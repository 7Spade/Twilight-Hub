{
  "summary": {
    "total": 5,
    "byPriority": {
      "P1": 3,
      "P2": 2
    },
    "byType": {
      "FEAT": 5
    },
    "urgent": 0
  },
  "todos": [
    {
      "priority": "P1",
      "type": "FEAT",
      "description": "src/components/auth/auth-provider.tsx - å¾ä¼ºæœå™¨ç²å–ç”¨æˆ¶è§’è‰²åˆ†é…",
      "details": [
        "const roleAssignment = await fetchUserRoleAssignment(state.userId);",
        "setState(prev => ({ ...prev, userRoleAssignment: roleAssignment }));"
      ],
      "file": "src\\components\\auth\\auth-provider.tsx",
      "line": 139,
      "assignee": "dev",
      "context": "    setState(prev => ({ ...prev, isLoading: true, error: null }));\r\n\r\n    try {\r\n      // TODO: [P1] FEAT src/components/auth/auth-provider.tsx - å¾ä¼ºæœå™¨ç²å–ç”¨æˆ¶è§’è‰²åˆ†é…\r\n      // const roleAssignment = await fetchUserRoleAssignment(state.userId);\r\n      // setState(prev => ({ ...prev, userRoleAssignment: roleAssignment }));\r\n      // @assignee dev\r\n    } catch (error) {\r\n      setState(prev => ({ \r\n        ...prev, \r\n        error: error instanceof Error ? error.message : 'Failed to refresh permissions' \r\n      }));\r\n    } finally {\r"
    },
    {
      "priority": "P1",
      "type": "FEAT",
      "description": "src/hooks/use-permissions.ts - å¯¦ç¾å¯¦éš›çš„æ¬Šé™æª¢æŸ¥é‚è¼¯",
      "details": [
        "é€™è£¡æ‡‰è©²èª¿ç”¨ Firebase æˆ– API ä¾†æª¢æŸ¥æ¬Šé™"
      ],
      "file": "src\\hooks\\use-permissions.ts",
      "line": 23,
      "assignee": "dev",
      "context": "    setError(null);\r\n\r\n    try {\r\n      // TODO: [P1] FEAT src/hooks/use-permissions.ts - å¯¦ç¾å¯¦éš›çš„æ¬Šé™æª¢æŸ¥é‚è¼¯\r\n      // é€™è£¡æ‡‰è©²èª¿ç”¨ Firebase æˆ– API ä¾†æª¢æŸ¥æ¬Šé™\r\n      // @assignee dev\r\n      \r\n      // æ¨¡æ“¬ API èª¿ç”¨\r\n      await new Promise(resolve => setTimeout(resolve, 100));\r\n      \r\n      // æš«æ™‚è¿”å›é»˜èªçµæœ\r\n      return {\r\n        hasPermission: false,\r"
    },
    {
      "priority": "P1",
      "type": "FEAT",
      "description": "src/lib/role-management.ts - å¯¦ä½œæ¬Šé™æª¢æŸ¥é‚è¼¯",
      "details": [
        "éœ€è¦æ ¹æ“šç”¨æˆ¶è§’è‰²å’Œæ¬Šé™é…ç½®é€²è¡Œæª¢æŸ¥"
      ],
      "file": "src\\lib\\role-management.ts",
      "line": 21,
      "assignee": "dev",
      "context": "    return null;\n  },\n  checkPermission: async (_userId: string, _spaceId: string, _permission: Permission, _userRoleAssignment: unknown) => {\n    // TODO: [P1] FEAT src/lib/role-management.ts - å¯¦ä½œæ¬Šé™æª¢æŸ¥é‚è¼¯\n    // éœ€è¦æ ¹æ“šç”¨æˆ¶è§’è‰²å’Œæ¬Šé™é…ç½®é€²è¡Œæª¢æŸ¥\n    // @assignee dev\n    return {\n      hasPermission: false,\n      reason: 'not_implemented',\n      source: 'space',\n      roleId: undefined,\n    };\n  }"
    },
    {
      "priority": "P2",
      "type": "FEAT",
      "description": "src/hooks/use-permissions.ts - å¯¦ç¾çµ„ç¹”æ¬Šé™æª¢æŸ¥",
      "details": [
        "éœ€è¦æ ¹æ“šçµ„ç¹”å±¤ç´šçš„æ¬Šé™é…ç½®é€²è¡Œæª¢æŸ¥"
      ],
      "file": "src\\hooks\\use-permissions.ts",
      "line": 128,
      "assignee": "dev",
      "context": "    organizationId: string,\r\n    permission: Permission\r\n  ): Promise<PermissionCheckResult> => {\r\n    // TODO: [P2] FEAT src/hooks/use-permissions.ts - å¯¦ç¾çµ„ç¹”æ¬Šé™æª¢æŸ¥\r\n    // éœ€è¦æ ¹æ“šçµ„ç¹”å±¤ç´šçš„æ¬Šé™é…ç½®é€²è¡Œæª¢æŸ¥\r\n    // @assignee dev\r\n    return checkPermission(permission);\r\n  }, [checkPermission]);\r\n\r\n  // æ‰¹é‡æª¢æŸ¥ç©ºé–“æ¬Šé™\r\n  const checkSpacePermissions = useCallback(async (\r\n    spaceId: string,\r\n    permissions: Permission[]\r"
    },
    {
      "priority": "P2",
      "type": "FEAT",
      "description": "src/lib/role-management.ts - å¯¦ä½œè§’è‰²å®šç¾©æŸ¥è©¢åŠŸèƒ½",
      "details": [
        "éœ€è¦å¾è³‡æ–™åº«æˆ–é…ç½®ä¸­ç²å–è§’è‰²å®šç¾©"
      ],
      "file": "src\\lib\\role-management.ts",
      "line": 15,
      "assignee": "dev",
      "context": "\nexport const roleManagementService = {\n  getRoleDefinition: (_roleId: string): RoleDefinition | null => {\n    // TODO: [P2] FEAT src/lib/role-management.ts - å¯¦ä½œè§’è‰²å®šç¾©æŸ¥è©¢åŠŸèƒ½\n    // éœ€è¦å¾è³‡æ–™åº«æˆ–é…ç½®ä¸­ç²å–è§’è‰²å®šç¾©\n    // @assignee dev\n    return null;\n  },\n  checkPermission: async (_userId: string, _spaceId: string, _permission: Permission, _userRoleAssignment: unknown) => {\n    // TODO: [P1] FEAT src/lib/role-management.ts - å¯¦ä½œæ¬Šé™æª¢æŸ¥é‚è¼¯\n    // éœ€è¦æ ¹æ“šç”¨æˆ¶è§’è‰²å’Œæ¬Šé™é…ç½®é€²è¡Œæª¢æŸ¥\n    // @assignee dev\n    return {"
    }
  ],
  "aiInstructions": "# AI Agent å·¥ä½œæŒ‡ä»¤\n## ğŸ“Š å°ˆæ¡ˆç‹€æ…‹\n- ç¸½ TODO æ•¸é‡: 5\n- ğŸ”´ ç·Šæ€¥é …ç›®: 0\n## ğŸ“‹ å»ºè­°è™•ç†é †åº\nä¾ç…§ä»¥ä¸‹é †åºè™•ç† TODOï¼š\n1. P0 - SECURITYï¼ˆå®‰å…¨æ€§å•é¡Œï¼‰\n2. P0 - FIXï¼ˆç·Šæ€¥ä¿®å¾©ï¼‰\n3. P1 - SECURITY\n4. P1 - FIX\n5. P1 - FEATï¼ˆé‡è¦åŠŸèƒ½ï¼‰\n6. P2 é …ç›®\n7. P3 é …ç›®"
}