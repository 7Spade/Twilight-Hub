{
  "summary": {
    "total": 35,
    "byPriority": {
      "P2": 24,
      "P1": 11
    },
    "byType": {
      "FIX": 1,
      "FEAT": 34
    },
    "urgent": 0
  },
  "todos": [
    {
      "priority": "P1",
      "type": "FEAT",
      "description": "src/components/auth/auth-provider.tsx - å¾ä¼ºæœå™¨ç²å–ç”¨æˆ¶è§’è‰²åˆ†é…",
      "details": [
        "const roleAssignment = await fetchUserRoleAssignment(state.userId);",
        "setState(prev => ({ ...prev, userRoleAssignment: roleAssignment }));"
      ],
      "file": "src\\components\\auth\\auth-provider.tsx",
      "line": 139,
      "assignee": "dev",
      "context": "    setState(prev => ({ ...prev, isLoading: true, error: null }));\r\n\r\n    try {\r\n      // TODO: [P1] FEAT src/components/auth/auth-provider.tsx - å¾ä¼ºæœå™¨ç²å–ç”¨æˆ¶è§’è‰²åˆ†é…\r\n      // const roleAssignment = await fetchUserRoleAssignment(state.userId);\r\n      // setState(prev => ({ ...prev, userRoleAssignment: roleAssignment }));\r\n      // @assignee dev\r\n    } catch (error) {\r\n      setState(prev => ({ \r\n        ...prev, \r\n        error: error instanceof Error ? error.message : 'Failed to refresh permissions' \r\n      }));\r\n    } finally {\r"
    },
    {
      "priority": "P1",
      "type": "FEAT",
      "description": "src/components/auth/permission-guard.tsx - å¯¦ç¾æ¬Šé™æª¢æŸ¥é‚è¼¯",
      "details": [
        "éœ€è¦æ ¹æ“šç”¨æˆ¶æ¬Šé™æ±ºå®šæ˜¯å¦é¡¯ç¤ºå­çµ„ä»¶"
      ],
      "file": "src\\components\\auth\\permission-guard.tsx",
      "line": 18,
      "assignee": "dev",
      "context": "  children, \n  fallback = null \n}: PermissionGuardProps) {\n  // TODO: [P1] FEAT src/components/auth/permission-guard.tsx - å¯¦ç¾æ¬Šé™æª¢æŸ¥é‚è¼¯\n  // éœ€è¦æ ¹æ“šç”¨æˆ¶æ¬Šé™æ±ºå®šæ˜¯å¦é¡¯ç¤ºå­çµ„ä»¶\n  // @assignee dev\n  return <>{children}</>;\n}"
    },
    {
      "priority": "P1",
      "type": "FEAT",
      "description": "src/components/auth/role-manager.tsx - å¯¦ç¾å¯¦éš›çš„ API èª¿ç”¨",
      "details": [
        "const rolesData = await fetchRoles(spaceId);",
        "setRoles(rolesData);"
      ],
      "file": "src\\components\\auth\\role-manager.tsx",
      "line": 97,
      "assignee": "dev",
      "context": "  const loadRoles = async () => {\n    setLoading(true);\n    try {\n      // TODO: [P1] FEAT src/components/auth/role-manager.tsx - å¯¦ç¾å¯¦éš›çš„ API èª¿ç”¨\n      // const rolesData = await fetchRoles(spaceId);\n      // setRoles(rolesData);\n      // @assignee dev\n      \n      // Mock data for now\n      setRoles([\n        {\n          id: 'admin',\n          name: 'Administrator',"
    },
    {
      "priority": "P1",
      "type": "FEAT",
      "description": "src/components/auth/role-manager.tsx - å¯¦ç¾å¯¦éš›çš„ API èª¿ç”¨",
      "details": [
        "const usersData = await fetchUsers(spaceId);",
        "setUsers(usersData);"
      ],
      "file": "src\\components\\auth\\role-manager.tsx",
      "line": 141,
      "assignee": "dev",
      "context": "\n  const loadUsers = async () => {\n    try {\n      // TODO: [P1] FEAT src/components/auth/role-manager.tsx - å¯¦ç¾å¯¦éš›çš„ API èª¿ç”¨\n      // const usersData = await fetchUsers(spaceId);\n      // setUsers(usersData);\n      // @assignee dev\n      \n      // Mock data for now\n      setUsers([\n        {\n          id: 'user1',\n          name: 'John Doe',"
    },
    {
      "priority": "P1",
      "type": "FEAT",
      "description": "src/components/auth/role-manager.tsx - å¯¦ç¾å¯¦éš›çš„ API èª¿ç”¨",
      "details": [
        "const newRole = await createRole(spaceId, roleData);",
        "setRoles(prev => [...prev, newRole]);"
      ],
      "file": "src\\components\\auth\\role-manager.tsx",
      "line": 168,
      "assignee": "dev",
      "context": "\n  const handleCreateRole = async (roleData: Omit<Role, 'id' | 'createdAt' | 'updatedAt'>) => {\n    try {\n      // TODO: [P1] FEAT src/components/auth/role-manager.tsx - å¯¦ç¾å¯¦éš›çš„ API èª¿ç”¨\n      // const newRole = await createRole(spaceId, roleData);\n      // setRoles(prev => [...prev, newRole]);\n      // @assignee dev\n      \n      console.log('Creating role:', roleData);\n      setIsCreateDialogOpen(false);\n    } catch (error) {\n      console.error('Failed to create role:', error);\n    }"
    },
    {
      "priority": "P1",
      "type": "FEAT",
      "description": "src/components/auth/role-manager.tsx - å¯¦ç¾å¯¦éš›çš„ API èª¿ç”¨",
      "details": [
        "const updatedRole = await updateRole(spaceId, roleId, roleData);",
        "setRoles(prev => prev.map(role => role.id === roleId ? updatedRole : role));"
      ],
      "file": "src\\components\\auth\\role-manager.tsx",
      "line": 182,
      "assignee": "dev",
      "context": "\n  const handleUpdateRole = async (roleId: string, roleData: Partial<Role>) => {\n    try {\n      // TODO: [P1] FEAT src/components/auth/role-manager.tsx - å¯¦ç¾å¯¦éš›çš„ API èª¿ç”¨\n      // const updatedRole = await updateRole(spaceId, roleId, roleData);\n      // setRoles(prev => prev.map(role => role.id === roleId ? updatedRole : role));\n      // @assignee dev\n      \n      console.log('Updating role:', roleId, roleData);\n      setIsEditDialogOpen(false);\n      setSelectedRole(null);\n    } catch (error) {\n      console.error('Failed to update role:', error);"
    },
    {
      "priority": "P1",
      "type": "FEAT",
      "description": "src/components/auth/role-manager.tsx - å¯¦ç¾å¯¦éš›çš„ API èª¿ç”¨",
      "details": [
        "await deleteRole(spaceId, roleId);",
        "setRoles(prev => prev.filter(role => role.id !== roleId));"
      ],
      "file": "src\\components\\auth\\role-manager.tsx",
      "line": 197,
      "assignee": "dev",
      "context": "\n  const handleDeleteRole = async (roleId: string) => {\n    try {\n      // TODO: [P1] FEAT src/components/auth/role-manager.tsx - å¯¦ç¾å¯¦éš›çš„ API èª¿ç”¨\n      // await deleteRole(spaceId, roleId);\n      // setRoles(prev => prev.filter(role => role.id !== roleId));\n      // @assignee dev\n      \n      console.log('Deleting role:', roleId);\n    } catch (error) {\n      console.error('Failed to delete role:', error);\n    }\n  };"
    },
    {
      "priority": "P1",
      "type": "FEAT",
      "description": "src/components/auth/role-manager.tsx - å¯¦ç¾å¯¦éš›çš„ API èª¿ç”¨",
      "details": [
        "await assignRole(spaceId, userId, roleId);",
        "loadUsers(); // Reload users to reflect changes"
      ],
      "file": "src\\components\\auth\\role-manager.tsx",
      "line": 210,
      "assignee": "dev",
      "context": "\n  const handleAssignRole = async (userId: string, roleId: string) => {\n    try {\n      // TODO: [P1] FEAT src/components/auth/role-manager.tsx - å¯¦ç¾å¯¦éš›çš„ API èª¿ç”¨\n      // await assignRole(spaceId, userId, roleId);\n      // loadUsers(); // Reload users to reflect changes\n      // @assignee dev\n      \n      console.log('Assigning role:', userId, roleId);\n      setIsAssignDialogOpen(false);\n    } catch (error) {\n      console.error('Failed to assign role:', error);\n    }"
    },
    {
      "priority": "P1",
      "type": "FEAT",
      "description": "src/components/features/contracts/contract-list.tsx - æ•´åˆ React Query hooks å’Œ Server Actions",
      "details": [],
      "file": "src\\components\\features\\contracts\\contract-list.tsx",
      "line": 36,
      "context": "  const [filters, setFilters] = useState<ContractFilters>({});\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n\r\n  // TODO: [P1] FEAT src/components/features/contracts/contract-list.tsx - æ•´åˆ React Query hooks å’Œ Server Actions\r\n  const contracts: Contract[] = [];\r\n  const isLoading = false;\r\n  // @assignee dev\r\n  const error = null;\r\n\r\n  // è™•ç†æœç´¢\r\n  const handleSearch = (term: string) => {\r\n    setSearchTerm(term);\r\n    setFilters(prev => ({ ...prev, search: term }));\r"
    },
    {
      "priority": "P1",
      "type": "FEAT",
      "description": "src/hooks/use-permissions.ts - å¯¦ç¾å¯¦éš›çš„æ¬Šé™æª¢æŸ¥é‚è¼¯",
      "details": [
        "é€™è£¡æ‡‰è©²èª¿ç”¨ Firebase æˆ– API ä¾†æª¢æŸ¥æ¬Šé™"
      ],
      "file": "src\\hooks\\use-permissions.ts",
      "line": 23,
      "assignee": "dev",
      "context": "    setError(null);\r\n\r\n    try {\r\n      // TODO: [P1] FEAT src/hooks/use-permissions.ts - å¯¦ç¾å¯¦éš›çš„æ¬Šé™æª¢æŸ¥é‚è¼¯\r\n      // é€™è£¡æ‡‰è©²èª¿ç”¨ Firebase æˆ– API ä¾†æª¢æŸ¥æ¬Šé™\r\n      // @assignee dev\r\n      \r\n      // æ¨¡æ“¬ API èª¿ç”¨\r\n      await new Promise(resolve => setTimeout(resolve, 100));\r\n      \r\n      // æš«æ™‚è¿”å›é»˜èªçµæœ\r\n      return {\r\n        hasPermission: false,\r"
    },
    {
      "priority": "P1",
      "type": "FEAT",
      "description": "src/lib/role-management.ts - å¯¦ä½œæ¬Šé™æª¢æŸ¥é‚è¼¯",
      "details": [
        "éœ€è¦æ ¹æ“šç”¨æˆ¶è§’è‰²å’Œæ¬Šé™é…ç½®é€²è¡Œæª¢æŸ¥"
      ],
      "file": "src\\lib\\role-management.ts",
      "line": 21,
      "assignee": "dev",
      "context": "    return null;\n  },\n  checkPermission: async (_userId: string, _spaceId: string, _permission: Permission, _userRoleAssignment: unknown) => {\n    // TODO: [P1] FEAT src/lib/role-management.ts - å¯¦ä½œæ¬Šé™æª¢æŸ¥é‚è¼¯\n    // éœ€è¦æ ¹æ“šç”¨æˆ¶è§’è‰²å’Œæ¬Šé™é…ç½®é€²è¡Œæª¢æŸ¥\n    // @assignee dev\n    return {\n      hasPermission: false,\n      reason: 'not_implemented',\n      source: 'space',\n      roleId: undefined,\n    };\n  }"
    },
    {
      "priority": "P2",
      "type": "FIX",
      "description": "src/components/adjust-stock-dialog.tsx - ä¿®å¾©éç©ºæ–·è¨€è­¦å‘Š",
      "details": [
        "æ‡‰è©²å…ˆæª¢æŸ¥ stockInfo.stockId æ˜¯å¦å­˜åœ¨"
      ],
      "file": "src\\components\\adjust-stock-dialog.tsx",
      "line": 131,
      "assignee": "dev",
      "context": "          let stockDocRef;\r\n\r\n          if (hasExistingStockRecord) {\r\n              // TODO: [P2] FIX src/components/adjust-stock-dialog.tsx - ä¿®å¾©éç©ºæ–·è¨€è­¦å‘Š\r\n              // æ‡‰è©²å…ˆæª¢æŸ¥ stockInfo.stockId æ˜¯å¦å­˜åœ¨\r\n              // @assignee dev\r\n              stockDocRef = doc(firestore, 'accounts', organizationId, 'warehouses', warehouseId, 'stock', stockInfo.stockId!);\r\n              batch.update(stockDocRef, { quantity: increment(adjustment) });\r\n          } else {\r\n              // Create a new stock document\r\n              stockDocRef = doc(collection(firestore, 'accounts', organizationId, 'warehouses', warehouseId, 'stock'));\r\n              const newStockData: Partial<Stock> = {\r\n                  itemId: item.id,\r"
    },
    {
      "priority": "P2",
      "type": "FEAT",
      "description": "src/components/features/contracts/contract-list.tsx - å¯¦ç¾åˆªé™¤é‚è¼¯",
      "details": [],
      "file": "src\\components\\features\\contracts\\contract-list.tsx",
      "line": 62,
      "context": "  // è™•ç†åˆç´„æ“ä½œ\r\n  const handleDeleteContract = (contractId: string) => {\r\n    if (confirm('ç¢ºå®šè¦åˆªé™¤é€™å€‹åˆç´„å—ï¼Ÿ')) {\r\n      // TODO: [P2] FEAT src/components/features/contracts/contract-list.tsx - å¯¦ç¾åˆªé™¤é‚è¼¯\r\n      console.log('Delete contract:', contractId);\r\n      // @assignee dev\r\n    }\r\n  };\r\n\r\n  const handleAnalyzeContract = (contractId: string) => {\r\n    // TODO: [P2] FEAT src/components/features/contracts/contract-list.tsx - å¯¦ç¾ AI åˆ†æé‚è¼¯\r\n    console.log('Analyze contract:', contractId);\r\n    // @assignee dev\r"
    },
    {
      "priority": "P2",
      "type": "FEAT",
      "description": "src/components/features/contracts/contract-list.tsx - å¯¦ç¾ AI åˆ†æé‚è¼¯",
      "details": [],
      "file": "src\\components\\features\\contracts\\contract-list.tsx",
      "line": 69,
      "context": "  };\r\n\r\n  const handleAnalyzeContract = (contractId: string) => {\r\n    // TODO: [P2] FEAT src/components/features/contracts/contract-list.tsx - å¯¦ç¾ AI åˆ†æé‚è¼¯\r\n    console.log('Analyze contract:', contractId);\r\n    // @assignee dev\r\n  };\r\n\r\n  const handleGeneratePDF = (contractId: string) => {\r\n    // TODO: [P2] FEAT src/components/features/contracts/contract-list.tsx - å¯¦ç¾ PDF ç”Ÿæˆé‚è¼¯\r\n    console.log('Generate PDF for contract:', contractId);\r\n    // @assignee dev\r\n  };\r"
    },
    {
      "priority": "P2",
      "type": "FEAT",
      "description": "src/components/features/contracts/contract-list.tsx - å¯¦ç¾ PDF ç”Ÿæˆé‚è¼¯",
      "details": [],
      "file": "src\\components\\features\\contracts\\contract-list.tsx",
      "line": 75,
      "context": "  };\r\n\r\n  const handleGeneratePDF = (contractId: string) => {\r\n    // TODO: [P2] FEAT src/components/features/contracts/contract-list.tsx - å¯¦ç¾ PDF ç”Ÿæˆé‚è¼¯\r\n    console.log('Generate PDF for contract:', contractId);\r\n    // @assignee dev\r\n  };\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case 'draft':\r\n        return 'bg-gray-100 text-gray-800';\r\n      case 'pending':\r"
    },
    {
      "priority": "P2",
      "type": "FEAT",
      "description": "src/components/features/organizations/components/roles/create-role-dialog.tsx - å¯¦ç¾è§’è‰²å‰µå»º API èª¿ç”¨",
      "details": [],
      "file": "src\\components\\features\\organizations\\components\\roles\\create-role-dialog.tsx",
      "line": 70,
      "context": "  const onSubmit = async (data: RoleFormData) => {\r\n    setIsLoading(true);\r\n    try {\r\n      // TODO: [P2] FEAT src/components/features/organizations/components/roles/create-role-dialog.tsx - å¯¦ç¾è§’è‰²å‰µå»º API èª¿ç”¨\r\n      console.log('Creating role for organization:', organizationId, data);\r\n      // @assignee dev\r\n      \r\n      // Simulate API call\r\n      await new Promise(resolve => setTimeout(resolve, 1000));\r\n      \r\n      reset();\r\n      onOpenChange(false);\r\n    } catch (error) {\r"
    },
    {
      "priority": "P2",
      "type": "FEAT",
      "description": "src/components/features/organizations/components/roles/role-list.tsx - å¯¦ç¾æ¬Šé™æ›´æ–°é‚è¼¯",
      "details": [],
      "file": "src\\components\\features\\organizations\\components\\roles\\role-list.tsx",
      "line": 169,
      "context": "  );\r\n\r\n  const handlePermissionToggle = (roleId: string, permission: keyof Role['permissions']) => {\r\n    // TODO: [P2] FEAT src/components/features/organizations/components/roles/role-list.tsx - å¯¦ç¾æ¬Šé™æ›´æ–°é‚è¼¯\r\n    console.log(`Toggle ${permission} for role ${roleId}`);\r\n    // @assignee dev\r\n  };\r\n\r\n  const handleAccessLevelChange = (roleId: string, accessLevel: string) => {\r\n    // TODO: [P2] FEAT src/components/features/organizations/components/roles/role-list.tsx - å¯¦ç¾è¨ªå•ç´šåˆ¥æ›´æ–°é‚è¼¯\r\n    console.log(`Change access level to ${accessLevel} for role ${roleId}`);\r\n    // @assignee dev\r\n  };\r"
    },
    {
      "priority": "P2",
      "type": "FEAT",
      "description": "src/components/features/organizations/components/roles/role-list.tsx - å¯¦ç¾è¨ªå•ç´šåˆ¥æ›´æ–°é‚è¼¯",
      "details": [],
      "file": "src\\components\\features\\organizations\\components\\roles\\role-list.tsx",
      "line": 175,
      "context": "  };\r\n\r\n  const handleAccessLevelChange = (roleId: string, accessLevel: string) => {\r\n    // TODO: [P2] FEAT src/components/features/organizations/components/roles/role-list.tsx - å¯¦ç¾è¨ªå•ç´šåˆ¥æ›´æ–°é‚è¼¯\r\n    console.log(`Change access level to ${accessLevel} for role ${roleId}`);\r\n    // @assignee dev\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r"
    },
    {
      "priority": "P2",
      "type": "FEAT",
      "description": "src/components/features/spaces/components/acceptance/initiate-acceptance-flow.tsx - å¯¦ç¾å‰µå»ºé©—æ”¶ API èª¿ç”¨",
      "details": [],
      "file": "src\\components\\features\\spaces\\components\\acceptance\\initiate-acceptance-flow.tsx",
      "line": 55,
      "context": "  const onSubmit = async (data: InitiateAcceptanceFormValues) => {\r\n    setIsLoading(true);\r\n    try {\r\n      // TODO: [P2] FEAT src/components/features/spaces/components/acceptance/initiate-acceptance-flow.tsx - å¯¦ç¾å‰µå»ºé©—æ”¶ API èª¿ç”¨\r\n      console.log('Creating acceptance item:', { spaceId, ...data });\r\n      // @assignee dev\r\n      await new Promise(resolve => setTimeout(resolve, 1000)); // Simulate API call\r\n      \r\n      const newAcceptance = {\r\n        id: Date.now().toString(),\r\n        ...data,\r\n        status: 'pending' as const,\r\n        requester: { id: 'current-user', name: 'Current User' },\r"
    },
    {
      "priority": "P2",
      "type": "FEAT",
      "description": "src/components/features/spaces/components/contracts/contract-details.tsx - å¯¦ç¾åˆç´„ä¸‹è¼‰é‚è¼¯",
      "details": [],
      "file": "src\\components\\features\\spaces\\components\\contracts\\contract-details.tsx",
      "line": 98,
      "context": "  };\r\n\r\n  const handleDownload = () => {\r\n    // TODO: [P2] FEAT src/components/features/spaces/components/contracts/contract-details.tsx - å¯¦ç¾åˆç´„ä¸‹è¼‰é‚è¼¯\r\n    console.log('Downloading contract:', contract.title);\r\n    // @assignee dev\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"max-w-4xl max-h-[90vh]\">\r\n        <DialogHeader>\r\n          <DialogTitle className=\"flex items-center gap-2\">\r"
    },
    {
      "priority": "P2",
      "type": "FEAT",
      "description": "src/components/features/spaces/components/contracts/create-contract-dialog.tsx - å¯¦ç¾å‰µå»ºåˆç´„ API èª¿ç”¨",
      "details": [],
      "file": "src\\components\\features\\spaces\\components\\contracts\\create-contract-dialog.tsx",
      "line": 69,
      "context": "  const onSubmit = async (data: CreateContractFormValues) => {\r\n    setIsLoading(true);\r\n    try {\r\n      // TODO: [P2] FEAT src/components/features/spaces/components/contracts/create-contract-dialog.tsx - å¯¦ç¾å‰µå»ºåˆç´„ API èª¿ç”¨\r\n      console.log('Creating contract:', { spaceId, ...data });\r\n      // @assignee dev\r\n      await new Promise(resolve => setTimeout(resolve, 1000)); // Simulate API call\r\n      \r\n      const newContract = {\r\n        id: Date.now().toString(),\r\n        ...data,\r\n        startDate: new Date(data.startDate),\r\n        endDate: data.endDate ? new Date(data.endDate) : undefined,\r"
    },
    {
      "priority": "P2",
      "type": "FEAT",
      "description": "src/components/features/spaces/components/issues/create-issue-form.tsx - å¯¦ç¾å‰µå»ºå•é¡Œ API èª¿ç”¨",
      "details": [],
      "file": "src\\components\\features\\spaces\\components\\issues\\create-issue-form.tsx",
      "line": 50,
      "context": "  const onSubmit = async (data: CreateIssueFormValues) => {\r\n    setIsLoading(true);\r\n    try {\r\n      // TODO: [P2] FEAT src/components/features/spaces/components/issues/create-issue-form.tsx - å¯¦ç¾å‰µå»ºå•é¡Œ API èª¿ç”¨\r\n      console.log('Creating issue:', { spaceId, ...data });\r\n      // @assignee dev\r\n      await new Promise(resolve => setTimeout(resolve, 1000)); // Simulate API call\r\n      \r\n      const newIssue = {\r\n        id: Date.now().toString(),\r\n        ...data,\r\n        status: 'open' as const,\r\n        reporter: { id: 'current-user', name: 'Current User' },\r"
    },
    {
      "priority": "P2",
      "type": "FEAT",
      "description": "src/components/features/spaces/components/overview/hooks/use-dashboard-data.ts - æ›¿æ›ç‚ºå¯¦éš›çš„ API èª¿ç”¨",
      "details": [
        "é€™è£¡ä½¿ç”¨æ¨¡æ“¬æ•¸æ“š"
      ],
      "file": "src\\components\\features\\spaces\\components\\overview\\hooks\\use-dashboard-data.ts",
      "line": 41,
      "assignee": "dev",
      "context": "\r\n  // ç²å–å„€è¡¨æ¿çµ±è¨ˆæ•¸æ“š\r\n  const fetchStats = useCallback(async (): Promise<DashboardStats> => {\r\n    // TODO: [P2] FEAT src/components/features/spaces/components/overview/hooks/use-dashboard-data.ts - æ›¿æ›ç‚ºå¯¦éš›çš„ API èª¿ç”¨\r\n    // é€™è£¡ä½¿ç”¨æ¨¡æ“¬æ•¸æ“š\r\n    // @assignee dev\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        resolve({\r\n          members: Math.floor(Math.random() * 50) + 10,\r\n          files: Math.floor(Math.random() * 200) + 50,\r\n          issues: Math.floor(Math.random() * 20) + 2,\r\n          lastActivity: '2 hours ago',\r"
    },
    {
      "priority": "P2",
      "type": "FEAT",
      "description": "src/components/features/spaces/components/overview/hooks/use-dashboard-data.ts - æ›¿æ›ç‚ºå¯¦éš›çš„ API èª¿ç”¨",
      "details": [
        "é€™è£¡ä½¿ç”¨æ¨¡æ“¬æ•¸æ“š"
      ],
      "file": "src\\components\\features\\spaces\\components\\overview\\hooks\\use-dashboard-data.ts",
      "line": 60,
      "assignee": "dev",
      "context": "\r\n  // ç²å–æ´»å‹•æ•¸æ“š\r\n  const fetchActivities = useCallback(async (): Promise<ActivityItem[]> => {\r\n    // TODO: [P2] FEAT src/components/features/spaces/components/overview/hooks/use-dashboard-data.ts - æ›¿æ›ç‚ºå¯¦éš›çš„ API èª¿ç”¨\r\n    // é€™è£¡ä½¿ç”¨æ¨¡æ“¬æ•¸æ“š\r\n    // @assignee dev\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        const mockActivities: ActivityItem[] = [\r\n          {\r\n            id: '1',\r\n            type: 'file_upload',\r\n            user: 'John Doe',\r"
    },
    {
      "priority": "P2",
      "type": "FEAT",
      "description": "src/components/features/spaces/components/participants/invite-participant-dialog.tsx - é¡¯ç¤ºéŒ¯èª¤æç¤º",
      "details": [],
      "file": "src\\components\\features\\spaces\\components\\participants\\invite-participant-dialog.tsx",
      "line": 54,
      "assignee": "dev",
      "context": "      onOpenChange(false);\r\n    } catch (error) {\r\n      console.error('Failed to invite participant:', error);\r\n      // TODO: [P2] FEAT src/components/features/spaces/components/participants/invite-participant-dialog.tsx - é¡¯ç¤ºéŒ¯èª¤æç¤º\r\n      // @assignee dev\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"sm:max-w-[425px]\">\r"
    },
    {
      "priority": "P2",
      "type": "FEAT",
      "description": "src/components/features/spaces/components/participants/participant-role-editor.tsx - å¯¦ç¾è§’è‰²è®Šæ›´ API èª¿ç”¨",
      "details": [],
      "file": "src\\components\\features\\spaces\\components\\participants\\participant-role-editor.tsx",
      "line": 47,
      "context": "  const onSubmit = async (data: RoleFormValues) => {\r\n    setIsLoading(true);\r\n    try {\r\n      // TODO: [P2] FEAT src/components/features/spaces/components/participants/participant-role-editor.tsx - å¯¦ç¾è§’è‰²è®Šæ›´ API èª¿ç”¨\r\n      console.log('Changing role:', { participantId, newRole: data.role });\r\n      // @assignee dev\r\n      await new Promise(resolve => setTimeout(resolve, 1000)); // Simulate API call\r\n      onRoleChange?.(participantId, data.role);\r\n      onOpenChange(false);\r\n    } catch (error) {\r\n      console.error('Failed to change role:', error);\r\n    } finally {\r\n      setIsLoading(false);\r"
    },
    {
      "priority": "P2",
      "type": "FEAT",
      "description": "src/components/features/spaces/components/participants/participant-table.tsx - æ‰“é–‹è§’è‰²æ›´æ–°å°è©±æ¡†",
      "details": [],
      "file": "src\\components\\features\\spaces\\components\\participants\\participant-table.tsx",
      "line": 141,
      "context": "  }, [actions]);\r\n\r\n  const handleUpdateRole = useCallback((participantId: string) => {\r\n    // TODO: [P2] FEAT src/components/features/spaces/components/participants/participant-table.tsx - æ‰“é–‹è§’è‰²æ›´æ–°å°è©±æ¡†\r\n    console.log('Update role for participant:', participantId);\r\n    // @assignee dev\r\n  }, []);\r\n\r\n  const handleRemove = useCallback((participantId: string) => {\r\n    if (confirm('ç¢ºï¿½?è¦ç§»?ï¿½æ­¤?ï¿½å“¡?ï¿½ï¿½?')) {\r\n      actions.onRemove(participantId);\r\n    }\r\n  }, [actions]);\r"
    },
    {
      "priority": "P2",
      "type": "FEAT",
      "description": "src/components/features/spaces/components/participants/virtualized-table.tsx - å¯¦ç¾ç·¨è¼¯å°è©±æ¡†",
      "details": [],
      "file": "src\\components\\features\\spaces\\components\\participants\\virtualized-table.tsx",
      "line": 211,
      "context": "  const handleAction = useCallback((action: string, participantId: string) => {\r\n    switch (action) {\r\n      case 'edit':\r\n        // TODO: [P2] FEAT src/components/features/spaces/components/participants/virtualized-table.tsx - å¯¦ç¾ç·¨è¼¯å°è©±æ¡†\r\n        console.log('ç·¨è¼¯?ï¿½å“¡:', participantId);\r\n        break;\r\n      case 'role':\r\n        // TODO: [P2] FEAT src/components/features/spaces/components/participants/virtualized-table.tsx - å¯¦ç¾è§’è‰²è®Šæ›´å°è©±æ¡†\r\n        console.log('è®Šæ›´è§’è‰²:', participantId);\r\n        break;\r\n      case 'remove':\r\n        if (confirm('ç¢ºï¿½?è¦ç§»?ï¿½æ­¤?ï¿½å“¡?ï¿½ï¿½?')) {\r\n          actions.onRemove(participantId);\r"
    },
    {
      "priority": "P2",
      "type": "FEAT",
      "description": "src/components/features/spaces/components/participants/virtualized-table.tsx - å¯¦ç¾è§’è‰²è®Šæ›´å°è©±æ¡†",
      "details": [],
      "file": "src\\components\\features\\spaces\\components\\participants\\virtualized-table.tsx",
      "line": 215,
      "context": "        console.log('ç·¨è¼¯?ï¿½å“¡:', participantId);\r\n        break;\r\n      case 'role':\r\n        // TODO: [P2] FEAT src/components/features/spaces/components/participants/virtualized-table.tsx - å¯¦ç¾è§’è‰²è®Šæ›´å°è©±æ¡†\r\n        console.log('è®Šæ›´è§’è‰²:', participantId);\r\n        break;\r\n      case 'remove':\r\n        if (confirm('ç¢ºï¿½?è¦ç§»?ï¿½æ­¤?ï¿½å“¡?ï¿½ï¿½?')) {\r\n          actions.onRemove(participantId);\r\n        }\r\n        break;\r\n    }\r\n  }, [actions]);\r"
    },
    {
      "priority": "P2",
      "type": "FEAT",
      "description": "src/components/features/spaces/components/quality/create-checklist-template.tsx - å¯¦ç¾å‰µå»ºæ¨¡æ¿ API èª¿ç”¨",
      "details": [],
      "file": "src\\components\\features\\spaces\\components\\quality\\create-checklist-template.tsx",
      "line": 69,
      "context": "  const onSubmit = async (data: ChecklistTemplateFormValues) => {\r\n    setIsLoading(true);\r\n    try {\r\n      // TODO: [P2] FEAT src/components/features/spaces/components/quality/create-checklist-template.tsx - å¯¦ç¾å‰µå»ºæ¨¡æ¿ API èª¿ç”¨\r\n      console.log('Creating checklist template:', { spaceId, ...data });\r\n      // @assignee dev\r\n      await new Promise(resolve => setTimeout(resolve, 1000)); // Simulate API call\r\n      \r\n      const newTemplate = {\r\n        id: Date.now().toString(),\r\n        ...data,\r\n        createdAt: new Date(),\r\n        createdBy: 'current-user',\r"
    },
    {
      "priority": "P2",
      "type": "FEAT",
      "description": "src/components/features/spaces/components/report/create-report-dialog.tsx - å¯¦ç¾å‰µå»ºå ±å‘Š API èª¿ç”¨",
      "details": [],
      "file": "src\\components\\features\\spaces\\components\\report\\create-report-dialog.tsx",
      "line": 68,
      "context": "  const onSubmit = async (data: CreateReportFormValues) => {\r\n    setIsLoading(true);\r\n    try {\r\n      // TODO: [P2] FEAT src/components/features/spaces/components/report/create-report-dialog.tsx - å¯¦ç¾å‰µå»ºå ±å‘Š API èª¿ç”¨\r\n      console.log('Creating report:', { spaceId, ...data });\r\n      // @assignee dev\r\n      await new Promise(resolve => setTimeout(resolve, 2000)); // Simulate API call\r\n      \r\n      const newReport = {\r\n        id: Date.now().toString(),\r\n        ...data,\r\n        status: 'generating' as const,\r\n        createdAt: new Date(),\r"
    },
    {
      "priority": "P2",
      "type": "FEAT",
      "description": "src/components/features/spaces/components/report/report-dashboard.tsx - å¯¦ç¾å¯¦éš›ä¸‹è¼‰é‚è¼¯",
      "details": [],
      "file": "src\\components\\features\\spaces\\components\\report\\report-dashboard.tsx",
      "line": 124,
      "context": "\r\n  const handleDownload = (report: Report) => {\r\n    if (report.downloadUrl) {\r\n      // TODO: [P2] FEAT src/components/features/spaces/components/report/report-dashboard.tsx - å¯¦ç¾å¯¦éš›ä¸‹è¼‰é‚è¼¯\r\n      console.log('Downloading report:', report.title);\r\n      // @assignee dev\r\n      window.open(report.downloadUrl, '_blank');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r"
    },
    {
      "priority": "P2",
      "type": "FEAT",
      "description": "src/components/features/spaces/components/report/report-viewer.tsx - å¯¦ç¾å¯¦éš›ä¸‹è¼‰é‚è¼¯",
      "details": [],
      "file": "src\\components\\features\\spaces\\components\\report\\report-viewer.tsx",
      "line": 79,
      "context": "\r\n  const handleDownload = () => {\r\n    if (report.downloadUrl) {\r\n      // TODO: [P2] FEAT src/components/features/spaces/components/report/report-viewer.tsx - å¯¦ç¾å¯¦éš›ä¸‹è¼‰é‚è¼¯\r\n      console.log('Downloading report:', report.title);\r\n      // @assignee dev\r\n      window.open(report.downloadUrl, '_blank');\r\n    }\r\n  };\r\n\r\n  // Mock report content based on type\r\n  const getReportContent = () => {\r\n    switch (report.type) {\r"
    },
    {
      "priority": "P2",
      "type": "FEAT",
      "description": "src/hooks/use-permissions.ts - å¯¦ç¾çµ„ç¹”æ¬Šé™æª¢æŸ¥",
      "details": [
        "éœ€è¦æ ¹æ“šçµ„ç¹”å±¤ç´šçš„æ¬Šé™é…ç½®é€²è¡Œæª¢æŸ¥"
      ],
      "file": "src\\hooks\\use-permissions.ts",
      "line": 128,
      "assignee": "dev",
      "context": "    organizationId: string,\r\n    permission: Permission\r\n  ): Promise<PermissionCheckResult> => {\r\n    // TODO: [P2] FEAT src/hooks/use-permissions.ts - å¯¦ç¾çµ„ç¹”æ¬Šé™æª¢æŸ¥\r\n    // éœ€è¦æ ¹æ“šçµ„ç¹”å±¤ç´šçš„æ¬Šé™é…ç½®é€²è¡Œæª¢æŸ¥\r\n    // @assignee dev\r\n    return checkPermission(permission);\r\n  }, [checkPermission]);\r\n\r\n  // æ‰¹é‡æª¢æŸ¥ç©ºé–“æ¬Šé™\r\n  const checkSpacePermissions = useCallback(async (\r\n    spaceId: string,\r\n    permissions: Permission[]\r"
    },
    {
      "priority": "P2",
      "type": "FEAT",
      "description": "src/lib/role-management.ts - å¯¦ä½œè§’è‰²å®šç¾©æŸ¥è©¢åŠŸèƒ½",
      "details": [
        "éœ€è¦å¾è³‡æ–™åº«æˆ–é…ç½®ä¸­ç²å–è§’è‰²å®šç¾©"
      ],
      "file": "src\\lib\\role-management.ts",
      "line": 15,
      "assignee": "dev",
      "context": "\nexport const roleManagementService = {\n  getRoleDefinition: (_roleId: string): RoleDefinition | null => {\n    // TODO: [P2] FEAT src/lib/role-management.ts - å¯¦ä½œè§’è‰²å®šç¾©æŸ¥è©¢åŠŸèƒ½\n    // éœ€è¦å¾è³‡æ–™åº«æˆ–é…ç½®ä¸­ç²å–è§’è‰²å®šç¾©\n    // @assignee dev\n    return null;\n  },\n  checkPermission: async (_userId: string, _spaceId: string, _permission: Permission, _userRoleAssignment: unknown) => {\n    // TODO: [P1] FEAT src/lib/role-management.ts - å¯¦ä½œæ¬Šé™æª¢æŸ¥é‚è¼¯\n    // éœ€è¦æ ¹æ“šç”¨æˆ¶è§’è‰²å’Œæ¬Šé™é…ç½®é€²è¡Œæª¢æŸ¥\n    // @assignee dev\n    return {"
    }
  ],
  "aiInstructions": "# AI Agent å·¥ä½œæŒ‡ä»¤\n## ğŸ“Š å°ˆæ¡ˆç‹€æ…‹\n- ç¸½ TODO æ•¸é‡: 35\n- ğŸ”´ ç·Šæ€¥é …ç›®: 0\n## ğŸ“‹ å»ºè­°è™•ç†é †åº\nä¾ç…§ä»¥ä¸‹é †åºè™•ç† TODOï¼š\n1. P0 - SECURITYï¼ˆå®‰å…¨æ€§å•é¡Œï¼‰\n2. P0 - FIXï¼ˆç·Šæ€¥ä¿®å¾©ï¼‰\n3. P1 - SECURITY\n4. P1 - FIX\n5. P1 - FEATï¼ˆé‡è¦åŠŸèƒ½ï¼‰\n6. P2 é …ç›®\n7. P3 é …ç›®"
}