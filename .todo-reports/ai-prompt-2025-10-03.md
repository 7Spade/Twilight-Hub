# AI Agent å·¥ä½œæŒ‡ä»¤
## ğŸ“Š å°ˆæ¡ˆç‹€æ…‹
- ç¸½ TODO æ•¸é‡: 60
- ğŸ”´ ç·Šæ€¥é …ç›®: 5
## âš ï¸ ç«‹å³è™•ç†ï¼ˆP0 æˆ–å·²éæœŸï¼‰
### 1. REFACTOR: src/components/features/spaces/components/file-explorer/file-explorer.tsx - ç¸®å° client é‚Šç•Œèˆ‡æ‹†åˆ†è·è²¬
- æª”æ¡ˆ: `src\components\features\spaces\components\file-explorer\file-explorer.tsx:9`
- å„ªå…ˆç´š: P0
- è² è²¬äºº: @ai
**è©³ç´°èªªæ˜:**
- èªªæ˜ï¼šç›®å‰å…ƒä»¶åŒæ™‚è² è²¬è³‡æ–™æŠ“å–ã€ç‹€æ…‹ã€å‘ˆç¾èˆ‡äº’å‹•ã€‚å»ºè­°ï¼š
- 1) å°‡ listFiles/upload/download/delete ç­‰ IO è¡Œç‚ºæŠ½é›¢è‡³å°ˆç”¨ hook/serviceï¼›
- 2) è¦–éœ€è¦ç”±çˆ¶å±¤ Server Component æä¾›åºåˆ—åŒ–è³‡æ–™ï¼ˆæˆ–ä»¥ Suspense åˆ†æ®µï¼‰ï¼›
- 3) æ‹†åˆ† FileExplorerContent ç‚ºæ›´å°çš„å±•ç¤ºå‹å­å…ƒä»¶ï¼Œé™ä½ useState/useMemo å¯†åº¦ã€‚
- ç›®æ¨™ï¼šç¶­æŒæ•ˆèƒ½ä¸¦å¤§å¹…é™ä½ AI agent èªçŸ¥è² æ“”ã€‚
**ç¨‹å¼ç¢¼ä¸Šä¸‹æ–‡:**
```typescript
 * and user actions.
 */
'use client';
// TODO: [P0] REFACTOR src/components/features/spaces/components/file-explorer/file-explorer.tsx - ç¸®å° client é‚Šç•Œèˆ‡æ‹†åˆ†è·è²¬
// èªªæ˜ï¼šç›®å‰å…ƒä»¶åŒæ™‚è² è²¬è³‡æ–™æŠ“å–ã€ç‹€æ…‹ã€å‘ˆç¾èˆ‡äº’å‹•ã€‚å»ºè­°ï¼š
// 1) å°‡ listFiles/upload/download/delete ç­‰ IO è¡Œç‚ºæŠ½é›¢è‡³å°ˆç”¨ hook/serviceï¼›
// 2) è¦–éœ€è¦ç”±çˆ¶å±¤ Server Component æä¾›åºåˆ—åŒ–è³‡æ–™ï¼ˆæˆ–ä»¥ Suspense åˆ†æ®µï¼‰ï¼›
// 3) æ‹†åˆ† FileExplorerContent ç‚ºæ›´å°çš„å±•ç¤ºå‹å­å…ƒä»¶ï¼Œé™ä½ useState/useMemo å¯†åº¦ã€‚
// ç›®æ¨™ï¼šç¶­æŒæ•ˆèƒ½ä¸¦å¤§å¹…é™ä½ AI agent èªçŸ¥è² æ“”ã€‚
// @assignee ai

import React, { useState, useEffect, useMemo } from 'react';
import { useFileActions } from '@/components/features/spaces/hooks';
```
### 2. REFACTOR: src/components/features/spaces/components/ - æ¸›å°‘éåº¦æŠ½è±¡çš„çµ„ä»¶å±¤ç´š
- æª”æ¡ˆ: `src\components\features\spaces\components\index.ts:7`
- å„ªå…ˆç´š: P1
- â° æˆªæ­¢æ—¥æœŸ: 2025-01-20
- è² è²¬äºº: @frontend
**è©³ç´°èªªæ˜:**
- å•é¡Œï¼š70 å€‹æ–‡ä»¶éåº¦æ‹†åˆ†ï¼Œé€ æˆä¸å¿…è¦çš„è¤‡é›œæ€§
- å½±éŸ¿ï¼šå°å…¥è·¯å¾‘éé•·ã€ç¶­è­·æˆæœ¬é«˜ã€èªçŸ¥è² æ“”é‡
- å»ºè­°ï¼š
- 1) åˆä½µåŠŸèƒ½ç›¸ä¼¼çš„çµ„ä»¶ï¼ˆå¦‚å¤šå€‹ list çµ„ä»¶ï¼‰
- 2) ç°¡åŒ–ç›®éŒ„çµæ§‹ï¼Œæ¸›å°‘åµŒå¥—å±¤ç´š
- 3) ç§»é™¤ä¸å¿…è¦çš„ barrel exports
- 4) éµå¾ª Next.js 15 çµ„ä»¶çµ„åˆæ¨¡å¼
**ç¨‹å¼ç¢¼ä¸Šä¸‹æ–‡:**
```typescript
 * by providing a single, consistent path.
 */

// TODO: [P1] REFACTOR src/components/features/spaces/components/ - æ¸›å°‘éåº¦æŠ½è±¡çš„çµ„ä»¶å±¤ç´š
// å•é¡Œï¼š70 å€‹æ–‡ä»¶éåº¦æ‹†åˆ†ï¼Œé€ æˆä¸å¿…è¦çš„è¤‡é›œæ€§
// å½±éŸ¿ï¼šå°å…¥è·¯å¾‘éé•·ã€ç¶­è­·æˆæœ¬é«˜ã€èªçŸ¥è² æ“”é‡
// å»ºè­°ï¼š
// 1) åˆä½µåŠŸèƒ½ç›¸ä¼¼çš„çµ„ä»¶ï¼ˆå¦‚å¤šå€‹ list çµ„ä»¶ï¼‰
// 2) ç°¡åŒ–ç›®éŒ„çµæ§‹ï¼Œæ¸›å°‘åµŒå¥—å±¤ç´š
// 3) ç§»é™¤ä¸å¿…è¦çš„ barrel exports
// 4) éµå¾ª Next.js 15 çµ„ä»¶çµ„åˆæ¨¡å¼
// @assignee frontend-team
// @deadline 2025-01-20
```
### 3. REFACTOR: src/components/features/spaces/components/ - åˆä½µé‡è¤‡çš„çµ„ä»¶é‚è¼¯
- æª”æ¡ˆ: `src\components\features\spaces\components\index.ts:18`
- å„ªå…ˆç´š: P2
- â° æˆªæ­¢æ—¥æœŸ: 2025-01-30
- è² è²¬äºº: @frontend
**è©³ç´°èªªæ˜:**
- å•é¡Œï¼šå¤šå€‹ list/card/dialog çµ„ä»¶å­˜åœ¨é‡è¤‡é‚è¼¯
- å½±éŸ¿ï¼šä»£ç¢¼é‡è¤‡ã€ç¶­è­·å›°é›£ã€ä¸€è‡´æ€§å•é¡Œ
- å»ºè­°ï¼š
- 1) å‰µå»ºé€šç”¨çš„ List/Card/Dialog åŸºç¤çµ„ä»¶
- 2) ä½¿ç”¨ TypeScript æ³›å‹æé«˜é¡å‹å®‰å…¨
- 3) å¯¦ç¾çµ„åˆæ¨¡å¼è€Œéç¹¼æ‰¿
- 4) éµå¾ª DRY åŸå‰‡å’Œå¥§å¡å§†å‰ƒåˆ€
- Spaces feature components exports
**ç¨‹å¼ç¢¼ä¸Šä¸‹æ–‡:**
```typescript
// @assignee frontend-team
// @deadline 2025-01-20

// TODO: [P2] REFACTOR src/components/features/spaces/components/ - åˆä½µé‡è¤‡çš„çµ„ä»¶é‚è¼¯
// å•é¡Œï¼šå¤šå€‹ list/card/dialog çµ„ä»¶å­˜åœ¨é‡è¤‡é‚è¼¯
// å½±éŸ¿ï¼šä»£ç¢¼é‡è¤‡ã€ç¶­è­·å›°é›£ã€ä¸€è‡´æ€§å•é¡Œ
// å»ºè­°ï¼š
// 1) å‰µå»ºé€šç”¨çš„ List/Card/Dialog åŸºç¤çµ„ä»¶
// 2) ä½¿ç”¨ TypeScript æ³›å‹æé«˜é¡å‹å®‰å…¨
// 3) å¯¦ç¾çµ„åˆæ¨¡å¼è€Œéç¹¼æ‰¿
// 4) éµå¾ª DRY åŸå‰‡å’Œå¥§å¡å§†å‰ƒåˆ€
// @assignee frontend-team
// @deadline 2025-01-30
```
### 4. PERF: next.config.ts - å¯¦ç¾ Next.js 15 æ€§èƒ½å„ªåŒ–é…ç½®
- æª”æ¡ˆ: `next.config.ts:16`
- å„ªå…ˆç´š: P2
- â° æˆªæ­¢æ—¥æœŸ: 2025-02-01
- è² è²¬äºº: @performance
**è©³ç´°èªªæ˜:**
- å•é¡Œï¼šæœªå……åˆ†åˆ©ç”¨ Next.js 15 çš„æ€§èƒ½å„ªåŒ–ç‰¹æ€§
- å½±éŸ¿ï¼šåœ–ç‰‡è¼‰å…¥æ€§èƒ½å·®ã€bundle å¤§å°éå¤§
- å»ºè­°ï¼š
- 1) å•Ÿç”¨ optimizePackageImports æ¸›å°‘ bundle å¤§å°
- 2) é…ç½® bundlePagesRouterDependencies å„ªåŒ–ä¾è³´æ‰“åŒ…
- 3) æ·»åŠ  experimental.turbo é…ç½®æå‡é–‹ç™¼é«”é©—
- 4) é…ç½®é©ç•¶çš„åœ–ç‰‡å„ªåŒ–åƒæ•¸
**ç¨‹å¼ç¢¼ä¸Šä¸‹æ–‡:**
```typescript
    esmExternals: true,
  },
  
  // TODO: [P2] PERF next.config.ts - å¯¦ç¾ Next.js 15 æ€§èƒ½å„ªåŒ–é…ç½®
  // å•é¡Œï¼šæœªå……åˆ†åˆ©ç”¨ Next.js 15 çš„æ€§èƒ½å„ªåŒ–ç‰¹æ€§
  // å½±éŸ¿ï¼šåœ–ç‰‡è¼‰å…¥æ€§èƒ½å·®ã€bundle å¤§å°éå¤§
  // å»ºè­°ï¼š
  // 1) å•Ÿç”¨ optimizePackageImports æ¸›å°‘ bundle å¤§å°
  // 2) é…ç½® bundlePagesRouterDependencies å„ªåŒ–ä¾è³´æ‰“åŒ…
  // 3) æ·»åŠ  experimental.turbo é…ç½®æå‡é–‹ç™¼é«”é©—
  // 4) é…ç½®é©ç•¶çš„åœ–ç‰‡å„ªåŒ–åƒæ•¸
  // @assignee performance-team
  // @deadline 2025-02-01
```
### 5. REFACTOR: src/components/features/spaces/hooks/ - ç°¡åŒ– hooks é‚è¼¯
- æª”æ¡ˆ: `src\components\features\spaces\hooks\index.ts:7`
- å„ªå…ˆç´š: P2
- â° æˆªæ­¢æ—¥æœŸ: 2025-02-05
- è² è²¬äºº: @frontend
**è©³ç´°èªªæ˜:**
- å•é¡Œï¼šå¤šå€‹ hooks æ–‡ä»¶å¯èƒ½åŒ…å«é‡è¤‡é‚è¼¯
- å½±éŸ¿ï¼šä»£ç¢¼é‡è¤‡ã€ç‹€æ…‹ç®¡ç†è¤‡é›œ
- å»ºè­°ï¼š
- 1) åˆä½µç›¸ä¼¼çš„ hooks é‚è¼¯
- 2) ä½¿ç”¨ React 19 çš„æ–° hooks ç‰¹æ€§
- 3) å¯¦ç¾æ›´ç°¡å–®çš„ç‹€æ…‹ç®¡ç†æ¨¡å¼
- 4) æ¸›å°‘ä¸å¿…è¦çš„ useEffect ä½¿ç”¨
- Spaces feature hooks exports
**ç¨‹å¼ç¢¼ä¸Šä¸‹æ–‡:**
```typescript
 * hooks, such as those for handling actions, into other components.
 */

// TODO: [P2] REFACTOR src/components/features/spaces/hooks/ - ç°¡åŒ– hooks é‚è¼¯
// å•é¡Œï¼šå¤šå€‹ hooks æ–‡ä»¶å¯èƒ½åŒ…å«é‡è¤‡é‚è¼¯
// å½±éŸ¿ï¼šä»£ç¢¼é‡è¤‡ã€ç‹€æ…‹ç®¡ç†è¤‡é›œ
// å»ºè­°ï¼š
// 1) åˆä½µç›¸ä¼¼çš„ hooks é‚è¼¯
// 2) ä½¿ç”¨ React 19 çš„æ–° hooks ç‰¹æ€§
// 3) å¯¦ç¾æ›´ç°¡å–®çš„ç‹€æ…‹ç®¡ç†æ¨¡å¼
// 4) æ¸›å°‘ä¸å¿…è¦çš„ useEffect ä½¿ç”¨
// @assignee frontend-team
// @deadline 2025-02-05
```
## ğŸ“‹ å»ºè­°è™•ç†é †åº
ä¾ç…§ä»¥ä¸‹é †åºè™•ç† TODOï¼š
1. P0 - SECURITYï¼ˆå®‰å…¨æ€§å•é¡Œï¼‰
2. P0 - FIXï¼ˆç·Šæ€¥ä¿®å¾©ï¼‰
3. P1 - SECURITY
4. P1 - FIX
5. P1 - FEATï¼ˆé‡è¦åŠŸèƒ½ï¼‰
6. P2 é …ç›®
7. P3 é …ç›®

## ğŸ¯ å®Œæ•´ TODO æ¸…å–®ï¼ˆJSON æ ¼å¼ï¼‰

```json
[
  {
    "priority": "P0",
    "type": "REFACTOR",
    "description": "src/components/features/spaces/components/file-explorer/file-explorer.tsx - ç¸®å° client é‚Šç•Œèˆ‡æ‹†åˆ†è·è²¬",
    "details": [
      "èªªæ˜ï¼šç›®å‰å…ƒä»¶åŒæ™‚è² è²¬è³‡æ–™æŠ“å–ã€ç‹€æ…‹ã€å‘ˆç¾èˆ‡äº’å‹•ã€‚å»ºè­°ï¼š",
      "1) å°‡ listFiles/upload/download/delete ç­‰ IO è¡Œç‚ºæŠ½é›¢è‡³å°ˆç”¨ hook/serviceï¼›",
      "2) è¦–éœ€è¦ç”±çˆ¶å±¤ Server Component æä¾›åºåˆ—åŒ–è³‡æ–™ï¼ˆæˆ–ä»¥ Suspense åˆ†æ®µï¼‰ï¼›",
      "3) æ‹†åˆ† FileExplorerContent ç‚ºæ›´å°çš„å±•ç¤ºå‹å­å…ƒä»¶ï¼Œé™ä½ useState/useMemo å¯†åº¦ã€‚",
      "ç›®æ¨™ï¼šç¶­æŒæ•ˆèƒ½ä¸¦å¤§å¹…é™ä½ AI agent èªçŸ¥è² æ“”ã€‚"
    ],
    "file": "src\\components\\features\\spaces\\components\\file-explorer\\file-explorer.tsx",
    "line": 9,
    "assignee": "ai",
    "context": " * and user actions.\r\n */\r\n'use client';\r\n// TODO: [P0] REFACTOR src/components/features/spaces/components/file-explorer/file-explorer.tsx - ç¸®å° client é‚Šç•Œèˆ‡æ‹†åˆ†è·è²¬\r\n// èªªæ˜ï¼šç›®å‰å…ƒä»¶åŒæ™‚è² è²¬è³‡æ–™æŠ“å–ã€ç‹€æ…‹ã€å‘ˆç¾èˆ‡äº’å‹•ã€‚å»ºè­°ï¼š\r\n// 1) å°‡ listFiles/upload/download/delete ç­‰ IO è¡Œç‚ºæŠ½é›¢è‡³å°ˆç”¨ hook/serviceï¼›\r\n// 2) è¦–éœ€è¦ç”±çˆ¶å±¤ Server Component æä¾›åºåˆ—åŒ–è³‡æ–™ï¼ˆæˆ–ä»¥ Suspense åˆ†æ®µï¼‰ï¼›\r\n// 3) æ‹†åˆ† FileExplorerContent ç‚ºæ›´å°çš„å±•ç¤ºå‹å­å…ƒä»¶ï¼Œé™ä½ useState/useMemo å¯†åº¦ã€‚\r\n// ç›®æ¨™ï¼šç¶­æŒæ•ˆèƒ½ä¸¦å¤§å¹…é™ä½ AI agent èªçŸ¥è² æ“”ã€‚\r\n// @assignee ai\r\n\r\nimport React, { useState, useEffect, useMemo } from 'react';\r\nimport { useFileActions } from '@/components/features/spaces/hooks';\r"
  },
  {
    "priority": "P1",
    "type": "REFACTOR",
    "description": "src/components/features/spaces/components/ - æ¸›å°‘éåº¦æŠ½è±¡çš„çµ„ä»¶å±¤ç´š",
    "details": [
      "å•é¡Œï¼š70 å€‹æ–‡ä»¶éåº¦æ‹†åˆ†ï¼Œé€ æˆä¸å¿…è¦çš„è¤‡é›œæ€§",
      "å½±éŸ¿ï¼šå°å…¥è·¯å¾‘éé•·ã€ç¶­è­·æˆæœ¬é«˜ã€èªçŸ¥è² æ“”é‡",
      "å»ºè­°ï¼š",
      "1) åˆä½µåŠŸèƒ½ç›¸ä¼¼çš„çµ„ä»¶ï¼ˆå¦‚å¤šå€‹ list çµ„ä»¶ï¼‰",
      "2) ç°¡åŒ–ç›®éŒ„çµæ§‹ï¼Œæ¸›å°‘åµŒå¥—å±¤ç´š",
      "3) ç§»é™¤ä¸å¿…è¦çš„ barrel exports",
      "4) éµå¾ª Next.js 15 çµ„ä»¶çµ„åˆæ¨¡å¼"
    ],
    "file": "src\\components\\features\\spaces\\components\\index.ts",
    "line": 7,
    "assignee": "frontend",
    "deadline": "2025-01-20",
    "context": " * by providing a single, consistent path.\r\n */\r\n\r\n// TODO: [P1] REFACTOR src/components/features/spaces/components/ - æ¸›å°‘éåº¦æŠ½è±¡çš„çµ„ä»¶å±¤ç´š\r\n// å•é¡Œï¼š70 å€‹æ–‡ä»¶éåº¦æ‹†åˆ†ï¼Œé€ æˆä¸å¿…è¦çš„è¤‡é›œæ€§\r\n// å½±éŸ¿ï¼šå°å…¥è·¯å¾‘éé•·ã€ç¶­è­·æˆæœ¬é«˜ã€èªçŸ¥è² æ“”é‡\r\n// å»ºè­°ï¼š\r\n// 1) åˆä½µåŠŸèƒ½ç›¸ä¼¼çš„çµ„ä»¶ï¼ˆå¦‚å¤šå€‹ list çµ„ä»¶ï¼‰\r\n// 2) ç°¡åŒ–ç›®éŒ„çµæ§‹ï¼Œæ¸›å°‘åµŒå¥—å±¤ç´š\r\n// 3) ç§»é™¤ä¸å¿…è¦çš„ barrel exports\r\n// 4) éµå¾ª Next.js 15 çµ„ä»¶çµ„åˆæ¨¡å¼\r\n// @assignee frontend-team\r\n// @deadline 2025-01-20\r"
  },
  {
    "priority": "P1",
    "type": "REFACTOR",
    "description": "src/app/(app)/layout.tsx - é™ä½å®¢æˆ¶ç«¯é‚Šç•Œèˆ‡ç‹€æ…‹è¤‡é›œåº¦",
    "details": [
      "å°å‘ï¼š",
      "1) ç›¡é‡ä¿æŒæœ¬æª”ç‚ºç˜¦å®¢æˆ¶ç«¯æ®¼å±¤ï¼Œå°‡è³‡æ–™æŠ“å–/æ¬Šé™/èšåˆç§»è‡³ Server Components æˆ– Server Actionsã€‚",
      "2) å°‡é‡å‹ UIï¼ˆSidebar/Nav è¨ˆç®—ï¼‰èˆ‡è³‡æ–™ç›¸ä¾åˆ†é›¢ï¼Œæ¡ props æ³¨å…¥ï¼›é¿å…åœ¨ layout å…§å¤šé‡ useEffect/useMemo ç–ŠåŠ ã€‚",
      "3) ä½¿ç”¨ App Router æ¨è–¦ï¼šçˆ¶å±¤ Server Layout + å­å±¤ Client Providersï¼ˆåƒè€ƒ Next.js docs: server and client components, use client in providerï¼‰ã€‚"
    ],
    "file": "src\\app\\(app)\\layout.tsx",
    "line": 2,
    "assignee": "ai",
    "context": "'use client';\n// TODO: [P1] REFACTOR src/app/(app)/layout.tsx - é™ä½å®¢æˆ¶ç«¯é‚Šç•Œèˆ‡ç‹€æ…‹è¤‡é›œåº¦\n// å°å‘ï¼š\n// 1) ç›¡é‡ä¿æŒæœ¬æª”ç‚ºç˜¦å®¢æˆ¶ç«¯æ®¼å±¤ï¼Œå°‡è³‡æ–™æŠ“å–/æ¬Šé™/èšåˆç§»è‡³ Server Components æˆ– Server Actionsã€‚\n// 2) å°‡é‡å‹ UIï¼ˆSidebar/Nav è¨ˆç®—ï¼‰èˆ‡è³‡æ–™ç›¸ä¾åˆ†é›¢ï¼Œæ¡ props æ³¨å…¥ï¼›é¿å…åœ¨ layout å…§å¤šé‡ useEffect/useMemo ç–ŠåŠ ã€‚\n// 3) ä½¿ç”¨ App Router æ¨è–¦ï¼šçˆ¶å±¤ Server Layout + å­å±¤ Client Providersï¼ˆåƒè€ƒ Next.js docs: server and client components, use client in providerï¼‰ã€‚\n// @assignee ai\n\nimport {\n  FirebaseClientProvider,\n  useUser,"
  },
  {
    "priority": "P1",
    "type": "REFACTOR",
    "description": "src/app/(app)/organizations/[organizationslug]/inventory/page.tsx - ä»¥ Server å–å¾— org èˆ‡æ¸…å–®",
    "details": [
      "èªªæ˜ï¼šç›®å‰åœ¨ client ç«¯ä»¥ getDocs/queries èšåˆå¤šå€‹é›†åˆï¼Œå»ºè­°æ”¹ç‚ºçˆ¶å±¤ Server Page èšåˆè¼¸å‡ºï¼Œ",
      "ä¸¦ä»¥ props é¤µå…¥ï¼ˆæˆ–åˆ†æ®µ Suspenseï¼‰ï¼Œé™ä½ client é‚è¼¯èˆ‡ç‹€æ…‹ï¼Œç¶­æŒæ•ˆèƒ½ä¸”æ›´æ˜“è®€ã€‚"
    ],
    "file": "src\\app\\(app)\\organizations\\[organizationslug]\\inventory\\page.tsx",
    "line": 3,
    "assignee": "ai",
    "context": "'use client';\n\n// TODO: [P1] REFACTOR src/app/(app)/organizations/[organizationslug]/inventory/page.tsx - ä»¥ Server å–å¾— org èˆ‡æ¸…å–®\n// èªªæ˜ï¼šç›®å‰åœ¨ client ç«¯ä»¥ getDocs/queries èšåˆå¤šå€‹é›†åˆï¼Œå»ºè­°æ”¹ç‚ºçˆ¶å±¤ Server Page èšåˆè¼¸å‡ºï¼Œ\n// ä¸¦ä»¥ props é¤µå…¥ï¼ˆæˆ–åˆ†æ®µ Suspenseï¼‰ï¼Œé™ä½ client é‚è¼¯èˆ‡ç‹€æ…‹ï¼Œç¶­æŒæ•ˆèƒ½ä¸”æ›´æ˜“è®€ã€‚\n// @assignee ai\n\nimport React, { useMemo, useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { useFirestore, useCollection } from '@/firebase';\nimport { collection, query, where, getDocs } from 'firebase/firestore';\nimport {"
  },
  {
    "priority": "P1",
    "type": "REFACTOR",
    "description": "src/app/(app)/organizations/[organizationslug]/spaces/page.tsx - çµ±ä¸€ç”±ä¼ºæœç«¯é€²è¡Œ redirect",
    "details": [
      "èªªæ˜ï¼šæ”¹ç‚º server page ç›´æ¥ redirect('/spaces')ï¼Œé¿å…åœ¨ client å…§å‘¼å« redirectã€‚"
    ],
    "file": "src\\app\\(app)\\organizations\\[organizationslug]\\spaces\\page.tsx",
    "line": 2,
    "assignee": "ai",
    "context": "'use client';\n// TODO: [P1] REFACTOR src/app/(app)/organizations/[organizationslug]/spaces/page.tsx - çµ±ä¸€ç”±ä¼ºæœç«¯é€²è¡Œ redirect\n// èªªæ˜ï¼šæ”¹ç‚º server page ç›´æ¥ redirect('/spaces')ï¼Œé¿å…åœ¨ client å…§å‘¼å« redirectã€‚\n// @assignee ai\nimport { redirect } from 'next/navigation';\n\nexport default function OrgSpacesPageWrapper({\n  params: _params,\n}: {\n  params: { organizationslug: string };\n}) {"
  },
  {
    "priority": "P1",
    "type": "REFACTOR",
    "description": "src/app/(app)/[userslug]/page.tsx - å°‡ params è§£ææ”¹ç”± server page è™•ç†",
    "details": [
      "èªªæ˜ï¼šé¿å…åœ¨ client ç«¯ä½¿ç”¨ React.use(params)ï¼Œæ”¹ç‚º server page è§£æå¾Œä»¥ props å‚³å…¥ï¼Œé™ä½é‚Šç•Œèˆ‡å‹åˆ¥è² æ“”ã€‚"
    ],
    "file": "src\\app\\(app)\\[userslug]\\page.tsx",
    "line": 6,
    "assignee": "ai",
    "context": "import React, { Suspense } from 'react';\nimport { UserProfilePage } from '@/components/features/users/pages/user-profile-page';\n\n// TODO: [P1] REFACTOR src/app/(app)/[userslug]/page.tsx - å°‡ params è§£ææ”¹ç”± server page è™•ç†\n// èªªæ˜ï¼šé¿å…åœ¨ client ç«¯ä½¿ç”¨ React.use(params)ï¼Œæ”¹ç‚º server page è§£æå¾Œä»¥ props å‚³å…¥ï¼Œé™ä½é‚Šç•Œèˆ‡å‹åˆ¥è² æ“”ã€‚\n// @assignee ai\n\nexport default function UserProfilePageWrapper({\n  params: paramsPromise,\n}: {\n  params: Promise<{ userslug: string }>;\n}) {\n  const params = React.use(paramsPromise);"
  },
  {
    "priority": "P1",
    "type": "TYPING",
    "description": "no-any (L192, L221) [ä½èªçŸ¥]",
    "details": [
      "TODO: [P1] HOOK deps (L365) [ä½èªçŸ¥]",
      "TODO: [P1] REFACTOR src/components/auth/auth-provider.tsx - ç¸®æ¸›è²¬ä»»é‚Šç•Œèˆ‡è³‡æ–™ä¸‹å‚³",
      "åŸå‰‡ï¼ˆNext.js App Router / Firebaseï¼‰ï¼š",
      "- Firestore èšåˆè½‰æœå‹™å±¤ï¼›Provider åƒ…ä¿ç•™ userId/effectivePermissions ç­‰æœ€å°å¿…è¦ã€‚",
      "- ç¦æ­¢åœ¨ render æœŸé–“åš I/Oï¼›mutation èµ° Server Actions æˆ–æ˜ç¢ºäº‹ä»¶è§¸ç™¼ã€‚",
      "- å°‡ `PermissionGuard` æŠ½è‡³æ›´å° APIï¼ˆä¾‹å¦‚ useHasPermission(selector)ï¼‰ä»¥ä¾¿ç·¨è­¯æœŸ tree-shakingã€‚"
    ],
    "file": "src\\components\\auth\\auth-provider.tsx",
    "line": 9,
    "assignee": "ai",
    "context": "\n'use client';\n// TODO: [P2] CLEANUP unused import (L39) [ä½èªçŸ¥]\n// TODO: [P1] TYPING no-any (L192, L221) [ä½èªçŸ¥]\n// TODO: [P1] HOOK deps (L365) [ä½èªçŸ¥]\n// TODO: [P1] REFACTOR src/components/auth/auth-provider.tsx - ç¸®æ¸›è²¬ä»»é‚Šç•Œèˆ‡è³‡æ–™ä¸‹å‚³\n// åŸå‰‡ï¼ˆNext.js App Router / Firebaseï¼‰ï¼š\n// - Firestore èšåˆè½‰æœå‹™å±¤ï¼›Provider åƒ…ä¿ç•™ userId/effectivePermissions ç­‰æœ€å°å¿…è¦ã€‚\n// - ç¦æ­¢åœ¨ render æœŸé–“åš I/Oï¼›mutation èµ° Server Actions æˆ–æ˜ç¢ºäº‹ä»¶è§¸ç™¼ã€‚\n// - å°‡ `PermissionGuard` æŠ½è‡³æ›´å° APIï¼ˆä¾‹å¦‚ useHasPermission(selector)ï¼‰ä»¥ä¾¿ç·¨è­¯æœŸ tree-shakingã€‚\n// @assignee ai\n\n// TODO: [P2] REFACTOR src/components/auth/auth-provider.tsx - å¥§å¡å§†å‰ƒåˆ€ç²¾ç°¡æ¬Šé™/èªè­‰ Provider"
  },
  {
    "priority": "P1",
    "type": "HOOK",
    "description": "deps (L365) [ä½èªçŸ¥]",
    "details": [
      "TODO: [P1] REFACTOR src/components/auth/auth-provider.tsx - ç¸®æ¸›è²¬ä»»é‚Šç•Œèˆ‡è³‡æ–™ä¸‹å‚³",
      "åŸå‰‡ï¼ˆNext.js App Router / Firebaseï¼‰ï¼š",
      "- Firestore èšåˆè½‰æœå‹™å±¤ï¼›Provider åƒ…ä¿ç•™ userId/effectivePermissions ç­‰æœ€å°å¿…è¦ã€‚",
      "- ç¦æ­¢åœ¨ render æœŸé–“åš I/Oï¼›mutation èµ° Server Actions æˆ–æ˜ç¢ºäº‹ä»¶è§¸ç™¼ã€‚",
      "- å°‡ `PermissionGuard` æŠ½è‡³æ›´å° APIï¼ˆä¾‹å¦‚ useHasPermission(selector)ï¼‰ä»¥ä¾¿ç·¨è­¯æœŸ tree-shakingã€‚"
    ],
    "file": "src\\components\\auth\\auth-provider.tsx",
    "line": 10,
    "assignee": "ai",
    "context": "'use client';\n// TODO: [P2] CLEANUP unused import (L39) [ä½èªçŸ¥]\n// TODO: [P1] TYPING no-any (L192, L221) [ä½èªçŸ¥]\n// TODO: [P1] HOOK deps (L365) [ä½èªçŸ¥]\n// TODO: [P1] REFACTOR src/components/auth/auth-provider.tsx - ç¸®æ¸›è²¬ä»»é‚Šç•Œèˆ‡è³‡æ–™ä¸‹å‚³\n// åŸå‰‡ï¼ˆNext.js App Router / Firebaseï¼‰ï¼š\n// - Firestore èšåˆè½‰æœå‹™å±¤ï¼›Provider åƒ…ä¿ç•™ userId/effectivePermissions ç­‰æœ€å°å¿…è¦ã€‚\n// - ç¦æ­¢åœ¨ render æœŸé–“åš I/Oï¼›mutation èµ° Server Actions æˆ–æ˜ç¢ºäº‹ä»¶è§¸ç™¼ã€‚\n// - å°‡ `PermissionGuard` æŠ½è‡³æ›´å° APIï¼ˆä¾‹å¦‚ useHasPermission(selector)ï¼‰ä»¥ä¾¿ç·¨è­¯æœŸ tree-shakingã€‚\n// @assignee ai\n\n// TODO: [P2] REFACTOR src/components/auth/auth-provider.tsx - å¥§å¡å§†å‰ƒåˆ€ç²¾ç°¡æ¬Šé™/èªè­‰ Provider\n// å»ºè­°ï¼š"
  },
  {
    "priority": "P1",
    "type": "REFACTOR",
    "description": "src/components/auth/auth-provider.tsx - ç¸®æ¸›è²¬ä»»é‚Šç•Œèˆ‡è³‡æ–™ä¸‹å‚³",
    "details": [
      "åŸå‰‡ï¼ˆNext.js App Router / Firebaseï¼‰ï¼š",
      "- Firestore èšåˆè½‰æœå‹™å±¤ï¼›Provider åƒ…ä¿ç•™ userId/effectivePermissions ç­‰æœ€å°å¿…è¦ã€‚",
      "- ç¦æ­¢åœ¨ render æœŸé–“åš I/Oï¼›mutation èµ° Server Actions æˆ–æ˜ç¢ºäº‹ä»¶è§¸ç™¼ã€‚",
      "- å°‡ `PermissionGuard` æŠ½è‡³æ›´å° APIï¼ˆä¾‹å¦‚ useHasPermission(selector)ï¼‰ä»¥ä¾¿ç·¨è­¯æœŸ tree-shakingã€‚"
    ],
    "file": "src\\components\\auth\\auth-provider.tsx",
    "line": 11,
    "assignee": "ai",
    "context": "// TODO: [P2] CLEANUP unused import (L39) [ä½èªçŸ¥]\n// TODO: [P1] TYPING no-any (L192, L221) [ä½èªçŸ¥]\n// TODO: [P1] HOOK deps (L365) [ä½èªçŸ¥]\n// TODO: [P1] REFACTOR src/components/auth/auth-provider.tsx - ç¸®æ¸›è²¬ä»»é‚Šç•Œèˆ‡è³‡æ–™ä¸‹å‚³\n// åŸå‰‡ï¼ˆNext.js App Router / Firebaseï¼‰ï¼š\n// - Firestore èšåˆè½‰æœå‹™å±¤ï¼›Provider åƒ…ä¿ç•™ userId/effectivePermissions ç­‰æœ€å°å¿…è¦ã€‚\n// - ç¦æ­¢åœ¨ render æœŸé–“åš I/Oï¼›mutation èµ° Server Actions æˆ–æ˜ç¢ºäº‹ä»¶è§¸ç™¼ã€‚\n// - å°‡ `PermissionGuard` æŠ½è‡³æ›´å° APIï¼ˆä¾‹å¦‚ useHasPermission(selector)ï¼‰ä»¥ä¾¿ç·¨è­¯æœŸ tree-shakingã€‚\n// @assignee ai\n\n// TODO: [P2] REFACTOR src/components/auth/auth-provider.tsx - å¥§å¡å§†å‰ƒåˆ€ç²¾ç°¡æ¬Šé™/èªè­‰ Provider\n// å»ºè­°ï¼š\n// 1) å°‡ Firestore è®€å–æ‹†ç‚ºæœ€å° APIï¼ˆå–®ä¸€ fetchUserRoleAssignmentï¼‰ï¼Œå…¶é¤˜èšåˆé‚è¼¯ç§»è‡³ serviceï¼›Provider åƒ…ä¿å­˜å¿…è¦ç‹€æ…‹ã€‚"
  },
  {
    "priority": "P1",
    "type": "HOOK",
    "description": "deps (L156) [ä½èªçŸ¥]",
    "details": [
      "TODO: [P2] REFACTOR src/components/auth/role-manager.tsx - é¿å…åˆ—è¡¨æ¸²æŸ“æœŸæ˜‚è²´æ“ä½œ",
      "å»ºè­°ï¼š",
      "- å°‡ roles/users è¼‰å…¥æ”¹ç‚ºæ‡¶è¼‰ï¼ˆæŒ‰éœ€æ‰“é–‹æ™‚å†æŸ¥è©¢ï¼‰ï¼›è¡¨æ ¼åƒ…é¡¯ç¤ºå‰å¹¾å€‹æ¬Šé™ï¼Œå…¶é¤˜ä»¥ lazy å±•é–‹ã€‚",
      "- å°è©±æ¡†æŠ½æˆå°å‹å­å…ƒä»¶æˆ–åŒæª”å…§è¯ï¼Œé¿å… props éˆéæ·±ï¼›é‡è¤‡é‚è¼¯ â‰¥3 æ¬¡å†æŠ½è±¡ã€‚",
      "- æ¬Šé™æª¢æŸ¥æ”¹ç”¨ `useAuth()` çš„å–®ä¸€ selectorï¼Œç§»é™¤æœ¬æª”é‡è¤‡ hasPermission èª¿ç”¨ã€‚"
    ],
    "file": "src\\components\\auth\\role-manager.tsx",
    "line": 9,
    "assignee": "ai",
    "context": "\n'use client';\n// TODO: [P2] CLEANUP unused imports/vars (L28, L41, L70, L88, L89, L134) [ä½èªçŸ¥]\n// TODO: [P1] HOOK deps (L156) [ä½èªçŸ¥]\n// TODO: [P2] REFACTOR src/components/auth/role-manager.tsx - é¿å…åˆ—è¡¨æ¸²æŸ“æœŸæ˜‚è²´æ“ä½œ\n// å»ºè­°ï¼š\n// - å°‡ roles/users è¼‰å…¥æ”¹ç‚ºæ‡¶è¼‰ï¼ˆæŒ‰éœ€æ‰“é–‹æ™‚å†æŸ¥è©¢ï¼‰ï¼›è¡¨æ ¼åƒ…é¡¯ç¤ºå‰å¹¾å€‹æ¬Šé™ï¼Œå…¶é¤˜ä»¥ lazy å±•é–‹ã€‚\n// - å°è©±æ¡†æŠ½æˆå°å‹å­å…ƒä»¶æˆ–åŒæª”å…§è¯ï¼Œé¿å… props éˆéæ·±ï¼›é‡è¤‡é‚è¼¯ â‰¥3 æ¬¡å†æŠ½è±¡ã€‚\n// - æ¬Šé™æª¢æŸ¥æ”¹ç”¨ `useAuth()` çš„å–®ä¸€ selectorï¼Œç§»é™¤æœ¬æª”é‡è¤‡ hasPermission èª¿ç”¨ã€‚\n// @assignee ai\n\n// TODO: [P2] REFACTOR src/components/auth/role-manager.tsx - å¥§å¡å§†å‰ƒåˆ€ç²¾ç°¡è§’è‰²ç®¡ç†\n// å»ºè­°ï¼š"
  },
  {
    "priority": "P1",
    "type": "VAN",
    "description": "- ç§»é™¤æœªä½¿ç”¨çš„é‡å‘½åå°å…¥",
    "details": [
      "å•é¡Œï¼šAvatar, AvatarFallback, AvatarImage, Phone å°å…¥å¾Œå¾æœªä½¿ç”¨",
      "è§£æ±ºæ–¹æ¡ˆï¼šç›´æ¥ç§»é™¤æœªä½¿ç”¨çš„å°å…¥èªå¥",
      "ç¾ä»£åŒ–å»ºè­°ï¼šä½¿ç”¨ ESLint no-unused-vars è¦å‰‡è‡ªå‹•æª¢æ¸¬",
      "æ•ˆèƒ½å½±éŸ¿ï¼šæ¸›å°‘ bundle å¤§å°ï¼Œé™ä½èªçŸ¥è² æ“”ï¼Œæå‡ AI agent ä»£ç¢¼ç†è§£",
      "ç›¸é—œå—å½±éŸ¿æª”æ¡ˆï¼šç„¡ï¼ˆé€™äº›å°å…¥æœªåœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨ï¼‰"
    ],
    "file": "src\\components\\features\\spaces\\components\\contracts\\contract-details.tsx",
    "line": 3,
    "context": "'use client';\r\n\r\n// TODO: [P1] VAN - ç§»é™¤æœªä½¿ç”¨çš„é‡å‘½åå°å…¥\r\n// å•é¡Œï¼šAvatar, AvatarFallback, AvatarImage, Phone å°å…¥å¾Œå¾æœªä½¿ç”¨\r\n// è§£æ±ºæ–¹æ¡ˆï¼šç›´æ¥ç§»é™¤æœªä½¿ç”¨çš„å°å…¥èªå¥\r\n// ç¾ä»£åŒ–å»ºè­°ï¼šä½¿ç”¨ ESLint no-unused-vars è¦å‰‡è‡ªå‹•æª¢æ¸¬\r\n// æ•ˆèƒ½å½±éŸ¿ï¼šæ¸›å°‘ bundle å¤§å°ï¼Œé™ä½èªçŸ¥è² æ“”ï¼Œæå‡ AI agent ä»£ç¢¼ç†è§£\r\n// ç›¸é—œå—å½±éŸ¿æª”æ¡ˆï¼šç„¡ï¼ˆé€™äº›å°å…¥æœªåœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨ï¼‰\r\n\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r"
  },
  {
    "priority": "P1",
    "type": "REFACTOR",
    "description": "src/components/features/spaces/components/file-explorer/filter-panel.tsx - æŠ½é›¢ UI èˆ‡ç‹€æ…‹è¨­å®š",
    "details": [
      "èªªæ˜ï¼šå°‡ç¯©é¸æ¢ä»¶ç‹€æ…‹ schema èˆ‡é è¨­å€¼æŠ½åˆ° `shared`ï¼ˆæˆ– features å°ˆå±¬ typesï¼‰é›†ä¸­ç®¡ç†ï¼›",
      "Panel åƒ…è™•ç†å±•ç¤ºèˆ‡äº‹ä»¶å›å‘¼ï¼Œæå‡æ¨¡çµ„é‚Šç•Œæ¸…æ™°åº¦èˆ‡å‹åˆ¥ä¸€è‡´æ€§ã€‚"
    ],
    "file": "src\\components\\features\\spaces\\components\\file-explorer\\filter-panel.tsx",
    "line": 9,
    "assignee": "ai",
    "context": " * filters or save them for later use.\n */\n'use client';\n// TODO: [P1] REFACTOR src/components/features/spaces/components/file-explorer/filter-panel.tsx - æŠ½é›¢ UI èˆ‡ç‹€æ…‹è¨­å®š\n// èªªæ˜ï¼šå°‡ç¯©é¸æ¢ä»¶ç‹€æ…‹ schema èˆ‡é è¨­å€¼æŠ½åˆ° `shared`ï¼ˆæˆ– features å°ˆå±¬ typesï¼‰é›†ä¸­ç®¡ç†ï¼›\n// Panel åƒ…è™•ç†å±•ç¤ºèˆ‡äº‹ä»¶å›å‘¼ï¼Œæå‡æ¨¡çµ„é‚Šç•Œæ¸…æ™°åº¦èˆ‡å‹åˆ¥ä¸€è‡´æ€§ã€‚\n// @assignee ai\n\nimport React, { useState } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Checkbox } from '@/components/ui/checkbox';"
  },
  {
    "priority": "P1",
    "type": "REFACTOR",
    "description": "src/components/features/spaces/components/file-explorer/folder-tree.tsx - æŠ½é›¢ mock èˆ‡åˆ†å±¤",
    "details": [
      "èªªæ˜ï¼šå°‡ mockFolders èˆ‡ organizeFilesIntoFolders ç§»åˆ°ç´”å‡½æ•¸æ¨¡çµ„ï¼ˆshared/utils æˆ– features å±¤ utilsï¼‰ï¼Œ",
      "ä¸¦ä»¥ props æ³¨å…¥çµæœï¼›æœ¬å…ƒä»¶å°ˆæ³¨æ¸²æŸ“èˆ‡äº’å‹•ï¼Œé™ä½æª”æ¡ˆé•·åº¦èˆ‡è¤‡é›œåº¦ã€‚"
    ],
    "file": "src\\components\\features\\spaces\\components\\file-explorer\\folder-tree.tsx",
    "line": 9,
    "assignee": "ai",
    "context": " * of the file explorer.\n */\n'use client';\n// TODO: [P1] REFACTOR src/components/features/spaces/components/file-explorer/folder-tree.tsx - æŠ½é›¢ mock èˆ‡åˆ†å±¤\n// èªªæ˜ï¼šå°‡ mockFolders èˆ‡ organizeFilesIntoFolders ç§»åˆ°ç´”å‡½æ•¸æ¨¡çµ„ï¼ˆshared/utils æˆ– features å±¤ utilsï¼‰ï¼Œ\n// ä¸¦ä»¥ props æ³¨å…¥çµæœï¼›æœ¬å…ƒä»¶å°ˆæ³¨æ¸²æŸ“èˆ‡äº’å‹•ï¼Œé™ä½æª”æ¡ˆé•·åº¦èˆ‡è¤‡é›œåº¦ã€‚\n// @assignee ai\n\nimport React, { useState } from 'react';\n\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport { "
  },
  {
    "priority": "P1",
    "type": "VAN",
    "description": "- ç§»é™¤æœªä½¿ç”¨çš„é‡å‘½åå°å…¥",
    "details": [
      "å•é¡Œï¼šTable, TableBody, TableCell, TableHead, TableHeader, TableRow, User å°å…¥å¾Œå¾æœªä½¿ç”¨",
      "è§£æ±ºæ–¹æ¡ˆï¼šç›´æ¥ç§»é™¤æœªä½¿ç”¨çš„å°å…¥èªå¥",
      "ç¾ä»£åŒ–å»ºè­°ï¼šä½¿ç”¨ ESLint no-unused-vars è¦å‰‡è‡ªå‹•æª¢æ¸¬",
      "æ•ˆèƒ½å½±éŸ¿ï¼šæ¸›å°‘ bundle å¤§å°ï¼Œé™ä½èªçŸ¥è² æ“”ï¼Œæå‡ AI agent ä»£ç¢¼ç†è§£",
      "ç›¸é—œå—å½±éŸ¿æª”æ¡ˆï¼šç„¡ï¼ˆé€™äº›å°å…¥æœªåœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨ï¼‰"
    ],
    "file": "src\\components\\features\\spaces\\components\\file-explorer\\packages-tab.tsx",
    "line": 18,
    "context": "import { Label } from '@/components/ui/label';\r\nimport { Textarea } from '@/components/ui/textarea';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog';\r\n// TODO: [P1] VAN - ç§»é™¤æœªä½¿ç”¨çš„é‡å‘½åå°å…¥\r\n// å•é¡Œï¼šTable, TableBody, TableCell, TableHead, TableHeader, TableRow, User å°å…¥å¾Œå¾æœªä½¿ç”¨\r\n// è§£æ±ºæ–¹æ¡ˆï¼šç›´æ¥ç§»é™¤æœªä½¿ç”¨çš„å°å…¥èªå¥\r\n// ç¾ä»£åŒ–å»ºè­°ï¼šä½¿ç”¨ ESLint no-unused-vars è¦å‰‡è‡ªå‹•æª¢æ¸¬\r\n// æ•ˆèƒ½å½±éŸ¿ï¼šæ¸›å°‘ bundle å¤§å°ï¼Œé™ä½èªçŸ¥è² æ“”ï¼Œæå‡ AI agent ä»£ç¢¼ç†è§£\r\n// ç›¸é—œå—å½±éŸ¿æª”æ¡ˆï¼šç„¡ï¼ˆé€™äº›å°å…¥æœªåœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨ï¼‰\r\nimport { \r\n  Package, \r\n  Plus, \r\n  Download, \r"
  },
  {
    "priority": "P1",
    "type": "VAN",
    "description": "- ç§»é™¤æœªä½¿ç”¨çš„é‡å‘½åå°å…¥",
    "details": [
      "å•é¡Œï¼šSkeleton å°å…¥å¾Œå¾æœªä½¿ç”¨",
      "è§£æ±ºæ–¹æ¡ˆï¼šç›´æ¥ç§»é™¤æœªä½¿ç”¨çš„å°å…¥èªå¥",
      "ç¾ä»£åŒ–å»ºè­°ï¼šä½¿ç”¨ ESLint no-unused-vars è¦å‰‡è‡ªå‹•æª¢æ¸¬",
      "æ•ˆèƒ½å½±éŸ¿ï¼šæ¸›å°‘ bundle å¤§å°ï¼Œé™ä½èªçŸ¥è² æ“”ï¼Œæå‡ AI agent ä»£ç¢¼ç†è§£",
      "ç›¸é—œå—å½±éŸ¿æª”æ¡ˆï¼šç„¡ï¼ˆé€™å€‹å°å…¥æœªåœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨ï¼‰"
    ],
    "file": "src\\components\\forms\\form-card.tsx",
    "line": 18,
    "context": "  CardTitle,\r\n  CardFooter,\r\n} from '@/components/ui/card';\r\n// TODO: [P1] VAN - ç§»é™¤æœªä½¿ç”¨çš„é‡å‘½åå°å…¥\r\n// å•é¡Œï¼šSkeleton å°å…¥å¾Œå¾æœªä½¿ç”¨\r\n// è§£æ±ºæ–¹æ¡ˆï¼šç›´æ¥ç§»é™¤æœªä½¿ç”¨çš„å°å…¥èªå¥\r\n// ç¾ä»£åŒ–å»ºè­°ï¼šä½¿ç”¨ ESLint no-unused-vars è¦å‰‡è‡ªå‹•æª¢æ¸¬\r\n// æ•ˆèƒ½å½±éŸ¿ï¼šæ¸›å°‘ bundle å¤§å°ï¼Œé™ä½èªçŸ¥è² æ“”ï¼Œæå‡ AI agent ä»£ç¢¼ç†è§£\r\n// ç›¸é—œå—å½±éŸ¿æª”æ¡ˆï¼šç„¡ï¼ˆé€™å€‹å°å…¥æœªåœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨ï¼‰\r\n\r\nimport { Form } from '@/components/ui/form';\r\nimport { Button } from '@/components/ui/button';\r\nimport { UseFormReturn, FieldValues } from 'react-hook-form';\r"
  },
  {
    "priority": "P1",
    "type": "REFACTOR",
    "description": "src/components/search-command.tsx - æŠ½é›¢æŸ¥è©¢ç‚º Server Action/API ä¸¦ä»¥ props é¤µå…¥",
    "details": [
      "èªªæ˜ï¼šç›®å‰ç›´æ¥åœ¨ client ç«¯çµ„åˆ Firestore æŸ¥è©¢ï¼Œé€ æˆ UI èˆ‡è³‡æ–™è€¦åˆã€å¢åŠ ç‹€æ…‹è¤‡é›œåº¦ã€‚",
      "å»ºè­°ï¼šå»ºç«‹ server actionï¼ˆæˆ–è¼•é‡ API routeï¼‰è™•ç†æŸ¥è©¢èˆ‡æ¬Šé™ï¼Œå†ä»¥ props é¤µå…¥ã€æˆ–ä½¿ç”¨ Suspense + use å¾çˆ¶å±¤ Server Component å‚³è³‡æ–™ã€‚",
      "ç›®æ¨™ï¼šé™ä½èªçŸ¥è² æ“”èˆ‡é‚Šç•Œè¤‡é›œåº¦ï¼Œç¶­æŒç¾æœ‰æ•ˆèƒ½ã€‚"
    ],
    "file": "src\\components\\search-command.tsx",
    "line": 10,
    "assignee": "ai",
    "context": "\n'use client';\n\n// TODO: [P1] REFACTOR src/components/search-command.tsx - æŠ½é›¢æŸ¥è©¢ç‚º Server Action/API ä¸¦ä»¥ props é¤µå…¥\n// èªªæ˜ï¼šç›®å‰ç›´æ¥åœ¨ client ç«¯çµ„åˆ Firestore æŸ¥è©¢ï¼Œé€ æˆ UI èˆ‡è³‡æ–™è€¦åˆã€å¢åŠ ç‹€æ…‹è¤‡é›œåº¦ã€‚\n// å»ºè­°ï¼šå»ºç«‹ server actionï¼ˆæˆ–è¼•é‡ API routeï¼‰è™•ç†æŸ¥è©¢èˆ‡æ¬Šé™ï¼Œå†ä»¥ props é¤µå…¥ã€æˆ–ä½¿ç”¨ Suspense + use å¾çˆ¶å±¤ Server Component å‚³è³‡æ–™ã€‚\n// ç›®æ¨™ï¼šé™ä½èªçŸ¥è² æ“”èˆ‡é‚Šç•Œè¤‡é›œåº¦ï¼Œç¶­æŒç¾æœ‰æ•ˆèƒ½ã€‚\n// @assignee ai\n\nimport React, { useState, useEffect, useMemo, useCallback } from 'react';\nimport {\n  CommandDialog,\n  CommandEmpty,"
  },
  {
    "priority": "P1",
    "type": "REFACTOR",
    "description": "src/firebase/provider.tsx - Provider åªåšæœå‹™æ³¨å…¥èˆ‡æ¥µç°¡ä½¿ç”¨è€…ç‹€æ…‹",
    "details": [
      "æŒ‡å—ï¼š",
      "1) ç§»é™¤éå¿…è¦é‚è¼¯ï¼ˆå¦‚èšåˆ/è½‰æ›ï¼‰ï¼Œé¿å…èˆ‡æˆæ¬Š/è§’è‰²è€¦åˆï¼›èˆ‡ `components/auth` åˆ†é›¢ã€‚",
      "2) åš´æ ¼ä½œç‚º Client Providerï¼Œè¢« Server Layout åŒ…è£¹ï¼›é¿å…åœ¨æ­¤æ”¾ç½® UI æˆ–å¤šé‡å‰¯ä½œç”¨ã€‚",
      "3) å°‡éŒ¯èª¤å‘ˆç¾äº¤ç”±ä¸Šå±¤ global-errorï¼Œåƒ…ç¶­è­· user/isUserLoading/userError çš„æœ€å°ç‹€æ…‹ã€‚"
    ],
    "file": "src\\firebase\\provider.tsx",
    "line": 2,
    "assignee": "ai",
    "context": "'use client';\n// TODO: [P1] REFACTOR src/firebase/provider.tsx - Provider åªåšæœå‹™æ³¨å…¥èˆ‡æ¥µç°¡ä½¿ç”¨è€…ç‹€æ…‹\n// æŒ‡å—ï¼š\n// 1) ç§»é™¤éå¿…è¦é‚è¼¯ï¼ˆå¦‚èšåˆ/è½‰æ›ï¼‰ï¼Œé¿å…èˆ‡æˆæ¬Š/è§’è‰²è€¦åˆï¼›èˆ‡ `components/auth` åˆ†é›¢ã€‚\n// 2) åš´æ ¼ä½œç‚º Client Providerï¼Œè¢« Server Layout åŒ…è£¹ï¼›é¿å…åœ¨æ­¤æ”¾ç½® UI æˆ–å¤šé‡å‰¯ä½œç”¨ã€‚\n// 3) å°‡éŒ¯èª¤å‘ˆç¾äº¤ç”±ä¸Šå±¤ global-errorï¼Œåƒ…ç¶­è­· user/isUserLoading/userError çš„æœ€å°ç‹€æ…‹ã€‚\n// @assignee ai\n\n\nimport React, { createContext, useContext, ReactNode, useMemo, useState, useEffect } from 'react';\nimport { FirebaseApp } from 'firebase/app';"
  },
  {
    "priority": "P1",
    "type": "VAN",
    "description": "- ç¾ä»£åŒ–é¡å‹æ–·è¨€ï¼Œä½¿ç”¨æ›´å®‰å…¨çš„å°è±¡åˆå§‹åŒ–",
    "details": [
      "å•é¡Œï¼š{} as Record<Permission, PermissionCheckResult> ä½¿ç”¨é¡å‹æ–·è¨€åˆå§‹åŒ–ç©ºå°è±¡",
      "è§£æ±ºæ–¹æ¡ˆï¼šä½¿ç”¨ Object.fromEntries() æˆ– reduce() ä¾†å‰µå»ºé¡å‹å®‰å…¨çš„å°è±¡",
      "ç¾ä»£åŒ–å»ºè­°ï¼šconst results = Object.fromEntries(permissions.map(p => [p, null])) as Record<Permission, PermissionCheckResult>",
      "æ•ˆèƒ½å½±éŸ¿ï¼šç„¡ï¼Œä½†æå‡é¡å‹å®‰å…¨æ€§å’Œä»£ç¢¼å¯è®€æ€§",
      "ç›¸é—œå—å½±éŸ¿æª”æ¡ˆï¼šç„¡ï¼ˆå…§éƒ¨é‡æ§‹ï¼Œä¸å½±éŸ¿å¤–éƒ¨æ¥å£ï¼‰"
    ],
    "file": "src\\hooks\\use-permissions.ts",
    "line": 128,
    "context": "  const checkPermissions = useCallback(async (\n    permissions: Permission[]\n  ): Promise<Record<Permission, PermissionCheckResult>> => {\n    // TODO: [P1] VAN - ç¾ä»£åŒ–é¡å‹æ–·è¨€ï¼Œä½¿ç”¨æ›´å®‰å…¨çš„å°è±¡åˆå§‹åŒ–\n    // å•é¡Œï¼š{} as Record<Permission, PermissionCheckResult> ä½¿ç”¨é¡å‹æ–·è¨€åˆå§‹åŒ–ç©ºå°è±¡\n    // è§£æ±ºæ–¹æ¡ˆï¼šä½¿ç”¨ Object.fromEntries() æˆ– reduce() ä¾†å‰µå»ºé¡å‹å®‰å…¨çš„å°è±¡\n    // ç¾ä»£åŒ–å»ºè­°ï¼šconst results = Object.fromEntries(permissions.map(p => [p, null])) as Record<Permission, PermissionCheckResult>\n    // æ•ˆèƒ½å½±éŸ¿ï¼šç„¡ï¼Œä½†æå‡é¡å‹å®‰å…¨æ€§å’Œä»£ç¢¼å¯è®€æ€§\n    // ç›¸é—œå—å½±éŸ¿æª”æ¡ˆï¼šç„¡ï¼ˆå…§éƒ¨é‡æ§‹ï¼Œä¸å½±éŸ¿å¤–éƒ¨æ¥å£ï¼‰\n    const results: Record<Permission, PermissionCheckResult> = {} as Record<Permission, PermissionCheckResult>;\n    \n    for (const permission of permissions) {\n      results[permission] = await checkPermission(permission);"
  },
  {
    "priority": "P1",
    "type": "VAN",
    "description": "- ç¾ä»£åŒ–é¡å‹æ–·è¨€ï¼Œä½¿ç”¨æ›´å®‰å…¨çš„å°è±¡åˆå§‹åŒ–",
    "details": [
      "å•é¡Œï¼š{} as Record<Permission, PermissionCheckResult> ä½¿ç”¨é¡å‹æ–·è¨€åˆå§‹åŒ–ç©ºå°è±¡",
      "è§£æ±ºæ–¹æ¡ˆï¼šä½¿ç”¨ Object.fromEntries() æˆ– reduce() ä¾†å‰µå»ºé¡å‹å®‰å…¨çš„å°è±¡",
      "ç¾ä»£åŒ–å»ºè­°ï¼šconst results = Object.fromEntries(permissions.map(p => [p, null])) as Record<Permission, PermissionCheckResult>",
      "æ•ˆèƒ½å½±éŸ¿ï¼šç„¡ï¼Œä½†æå‡é¡å‹å®‰å…¨æ€§å’Œä»£ç¢¼å¯è®€æ€§",
      "ç›¸é—œå—å½±éŸ¿æª”æ¡ˆï¼šç„¡ï¼ˆå…§éƒ¨é‡æ§‹ï¼Œä¸å½±éŸ¿å¤–éƒ¨æ¥å£ï¼‰"
    ],
    "file": "src\\hooks\\use-permissions.ts",
    "line": 250,
    "context": "    spaceId: string,\n    permissions: Permission[]\n  ): Promise<Record<Permission, PermissionCheckResult>> => {\n    // TODO: [P1] VAN - ç¾ä»£åŒ–é¡å‹æ–·è¨€ï¼Œä½¿ç”¨æ›´å®‰å…¨çš„å°è±¡åˆå§‹åŒ–\n    // å•é¡Œï¼š{} as Record<Permission, PermissionCheckResult> ä½¿ç”¨é¡å‹æ–·è¨€åˆå§‹åŒ–ç©ºå°è±¡\n    // è§£æ±ºæ–¹æ¡ˆï¼šä½¿ç”¨ Object.fromEntries() æˆ– reduce() ä¾†å‰µå»ºé¡å‹å®‰å…¨çš„å°è±¡\n    // ç¾ä»£åŒ–å»ºè­°ï¼šconst results = Object.fromEntries(permissions.map(p => [p, null])) as Record<Permission, PermissionCheckResult>\n    // æ•ˆèƒ½å½±éŸ¿ï¼šç„¡ï¼Œä½†æå‡é¡å‹å®‰å…¨æ€§å’Œä»£ç¢¼å¯è®€æ€§\n    // ç›¸é—œå—å½±éŸ¿æª”æ¡ˆï¼šç„¡ï¼ˆå…§éƒ¨é‡æ§‹ï¼Œä¸å½±éŸ¿å¤–éƒ¨æ¥å£ï¼‰\n    const results: Record<Permission, PermissionCheckResult> = {} as Record<Permission, PermissionCheckResult>;\n    \n    for (const permission of permissions) {\n      results[permission] = await checkSpacePermission(spaceId, permission);"
  },
  {
    "priority": "P2",
    "type": "REFACTOR",
    "description": "src/components/features/spaces/components/ - åˆä½µé‡è¤‡çš„çµ„ä»¶é‚è¼¯",
    "details": [
      "å•é¡Œï¼šå¤šå€‹ list/card/dialog çµ„ä»¶å­˜åœ¨é‡è¤‡é‚è¼¯",
      "å½±éŸ¿ï¼šä»£ç¢¼é‡è¤‡ã€ç¶­è­·å›°é›£ã€ä¸€è‡´æ€§å•é¡Œ",
      "å»ºè­°ï¼š",
      "1) å‰µå»ºé€šç”¨çš„ List/Card/Dialog åŸºç¤çµ„ä»¶",
      "2) ä½¿ç”¨ TypeScript æ³›å‹æé«˜é¡å‹å®‰å…¨",
      "3) å¯¦ç¾çµ„åˆæ¨¡å¼è€Œéç¹¼æ‰¿",
      "4) éµå¾ª DRY åŸå‰‡å’Œå¥§å¡å§†å‰ƒåˆ€",
      "Spaces feature components exports"
    ],
    "file": "src\\components\\features\\spaces\\components\\index.ts",
    "line": 18,
    "assignee": "frontend",
    "deadline": "2025-01-30",
    "context": "// @assignee frontend-team\r\n// @deadline 2025-01-20\r\n\r\n// TODO: [P2] REFACTOR src/components/features/spaces/components/ - åˆä½µé‡è¤‡çš„çµ„ä»¶é‚è¼¯\r\n// å•é¡Œï¼šå¤šå€‹ list/card/dialog çµ„ä»¶å­˜åœ¨é‡è¤‡é‚è¼¯\r\n// å½±éŸ¿ï¼šä»£ç¢¼é‡è¤‡ã€ç¶­è­·å›°é›£ã€ä¸€è‡´æ€§å•é¡Œ\r\n// å»ºè­°ï¼š\r\n// 1) å‰µå»ºé€šç”¨çš„ List/Card/Dialog åŸºç¤çµ„ä»¶\r\n// 2) ä½¿ç”¨ TypeScript æ³›å‹æé«˜é¡å‹å®‰å…¨\r\n// 3) å¯¦ç¾çµ„åˆæ¨¡å¼è€Œéç¹¼æ‰¿\r\n// 4) éµå¾ª DRY åŸå‰‡å’Œå¥§å¡å§†å‰ƒåˆ€\r\n// @assignee frontend-team\r\n// @deadline 2025-01-30\r"
  },
  {
    "priority": "P2",
    "type": "PERF",
    "description": "next.config.ts - å¯¦ç¾ Next.js 15 æ€§èƒ½å„ªåŒ–é…ç½®",
    "details": [
      "å•é¡Œï¼šæœªå……åˆ†åˆ©ç”¨ Next.js 15 çš„æ€§èƒ½å„ªåŒ–ç‰¹æ€§",
      "å½±éŸ¿ï¼šåœ–ç‰‡è¼‰å…¥æ€§èƒ½å·®ã€bundle å¤§å°éå¤§",
      "å»ºè­°ï¼š",
      "1) å•Ÿç”¨ optimizePackageImports æ¸›å°‘ bundle å¤§å°",
      "2) é…ç½® bundlePagesRouterDependencies å„ªåŒ–ä¾è³´æ‰“åŒ…",
      "3) æ·»åŠ  experimental.turbo é…ç½®æå‡é–‹ç™¼é«”é©—",
      "4) é…ç½®é©ç•¶çš„åœ–ç‰‡å„ªåŒ–åƒæ•¸"
    ],
    "file": "next.config.ts",
    "line": 16,
    "assignee": "performance",
    "deadline": "2025-02-01",
    "context": "    esmExternals: true,\n  },\n  \n  // TODO: [P2] PERF next.config.ts - å¯¦ç¾ Next.js 15 æ€§èƒ½å„ªåŒ–é…ç½®\n  // å•é¡Œï¼šæœªå……åˆ†åˆ©ç”¨ Next.js 15 çš„æ€§èƒ½å„ªåŒ–ç‰¹æ€§\n  // å½±éŸ¿ï¼šåœ–ç‰‡è¼‰å…¥æ€§èƒ½å·®ã€bundle å¤§å°éå¤§\n  // å»ºè­°ï¼š\n  // 1) å•Ÿç”¨ optimizePackageImports æ¸›å°‘ bundle å¤§å°\n  // 2) é…ç½® bundlePagesRouterDependencies å„ªåŒ–ä¾è³´æ‰“åŒ…\n  // 3) æ·»åŠ  experimental.turbo é…ç½®æå‡é–‹ç™¼é«”é©—\n  // 4) é…ç½®é©ç•¶çš„åœ–ç‰‡å„ªåŒ–åƒæ•¸\n  // @assignee performance-team\n  // @deadline 2025-02-01"
  },
  {
    "priority": "P2",
    "type": "REFACTOR",
    "description": "src/components/features/spaces/hooks/ - ç°¡åŒ– hooks é‚è¼¯",
    "details": [
      "å•é¡Œï¼šå¤šå€‹ hooks æ–‡ä»¶å¯èƒ½åŒ…å«é‡è¤‡é‚è¼¯",
      "å½±éŸ¿ï¼šä»£ç¢¼é‡è¤‡ã€ç‹€æ…‹ç®¡ç†è¤‡é›œ",
      "å»ºè­°ï¼š",
      "1) åˆä½µç›¸ä¼¼çš„ hooks é‚è¼¯",
      "2) ä½¿ç”¨ React 19 çš„æ–° hooks ç‰¹æ€§",
      "3) å¯¦ç¾æ›´ç°¡å–®çš„ç‹€æ…‹ç®¡ç†æ¨¡å¼",
      "4) æ¸›å°‘ä¸å¿…è¦çš„ useEffect ä½¿ç”¨",
      "Spaces feature hooks exports"
    ],
    "file": "src\\components\\features\\spaces\\hooks\\index.ts",
    "line": 7,
    "assignee": "frontend",
    "deadline": "2025-02-05",
    "context": " * hooks, such as those for handling actions, into other components.\r\n */\r\n\r\n// TODO: [P2] REFACTOR src/components/features/spaces/hooks/ - ç°¡åŒ– hooks é‚è¼¯\r\n// å•é¡Œï¼šå¤šå€‹ hooks æ–‡ä»¶å¯èƒ½åŒ…å«é‡è¤‡é‚è¼¯\r\n// å½±éŸ¿ï¼šä»£ç¢¼é‡è¤‡ã€ç‹€æ…‹ç®¡ç†è¤‡é›œ\r\n// å»ºè­°ï¼š\r\n// 1) åˆä½µç›¸ä¼¼çš„ hooks é‚è¼¯\r\n// 2) ä½¿ç”¨ React 19 çš„æ–° hooks ç‰¹æ€§\r\n// 3) å¯¦ç¾æ›´ç°¡å–®çš„ç‹€æ…‹ç®¡ç†æ¨¡å¼\r\n// 4) æ¸›å°‘ä¸å¿…è¦çš„ useEffect ä½¿ç”¨\r\n// @assignee frontend-team\r\n// @deadline 2025-02-05\r"
  },
  {
    "priority": "P2",
    "type": "REFACTOR",
    "description": "src/app/(app)/dashboard/page.tsx - å°‡ Firestore è³‡æ–™æŠ“å–ä¸‹æ²‰è‡³ Server çµ„ä»¶",
    "details": [
      "èªªæ˜ï¼šç›®å‰å¤šå€‹ useMemo + useCollection æ–¼ client ç«¯ï¼Œå»ºè­°ç”±çˆ¶å±¤ Server Page å–å¾—åºåˆ—åŒ–è³‡æ–™å¾Œä»¥ props å‚³å…¥ï¼Œ",
      "ä¸¦å°‡ Dashboard ç´”åŒ–ç‚ºå±•ç¤ºï¼Œæ¸›å°‘ client é‚Šç•Œèˆ‡æ•ˆèƒ½è² æ“”ï¼Œæå‡ AI agent å¯è®€æ€§ã€‚"
    ],
    "file": "src\\app\\(app)\\dashboard\\page.tsx",
    "line": 3,
    "assignee": "ai",
    "context": "'use client';\n\n// TODO: [P2] REFACTOR src/app/(app)/dashboard/page.tsx - å°‡ Firestore è³‡æ–™æŠ“å–ä¸‹æ²‰è‡³ Server çµ„ä»¶\n// èªªæ˜ï¼šç›®å‰å¤šå€‹ useMemo + useCollection æ–¼ client ç«¯ï¼Œå»ºè­°ç”±çˆ¶å±¤ Server Page å–å¾—åºåˆ—åŒ–è³‡æ–™å¾Œä»¥ props å‚³å…¥ï¼Œ\n// ä¸¦å°‡ Dashboard ç´”åŒ–ç‚ºå±•ç¤ºï¼Œæ¸›å°‘ client é‚Šç•Œèˆ‡æ•ˆèƒ½è² æ“”ï¼Œæå‡ AI agent å¯è®€æ€§ã€‚\n// @assignee ai\nimport Link from 'next/link';\nimport {\n  Activity,\n  Backpack,\n  Grid3x3,\n  Star,"
  },
  {
    "priority": "P2",
    "type": "FEAT",
    "description": "src/app/actions/contracts.ts - å¯¦ä½œåˆç´„ AI åˆ†æ",
    "details": [
      "èªªæ˜ï¼šæ•´åˆ Genkit AI æˆ–å…¶ä»– AI æœå‹™ï¼Œè¼¸å‡ºæ‘˜è¦èˆ‡é¢¨éšªé»"
    ],
    "file": "src\\app\\actions\\contracts.ts",
    "line": 89,
    "context": "\r\nexport async function analyzeContract(spaceId: string, contractId: string) {\r\n  try {\r\n    // TODO: [P2] FEAT src/app/actions/contracts.ts - å¯¦ä½œåˆç´„ AI åˆ†æ\r\n    // èªªæ˜ï¼šæ•´åˆ Genkit AI æˆ–å…¶ä»– AI æœå‹™ï¼Œè¼¸å‡ºæ‘˜è¦èˆ‡é¢¨éšªé»\r\n    console.log('Analyzing contract:', contractId);\r\n    \r\n    return { success: true, data: { analysis: 'Contract analysis completed' } };\r\n  } catch (error) {\r\n    console.error('Error analyzing contract:', error);\r\n    return { success: false, error: 'Failed to analyze contract' };\r\n  }\r\n}\r"
  },
  {
    "priority": "P2",
    "type": "FEAT",
    "description": "src/app/actions/contracts.ts - å¯¦ä½œåˆç´„ PDF ç”Ÿæˆ",
    "details": [
      "èªªæ˜ï¼šæ•´åˆ PDF ç”Ÿæˆæœå‹™ï¼ˆå«æ¨™é¡Œã€é›™æ–¹ã€é‡‘é¡ã€æ—¥æœŸã€ç°½åï¼‰"
    ],
    "file": "src\\app\\actions\\contracts.ts",
    "line": 102,
    "context": "\r\nexport async function generateContractPDF(spaceId: string, contractId: string) {\r\n  try {\r\n    // TODO: [P2] FEAT src/app/actions/contracts.ts - å¯¦ä½œåˆç´„ PDF ç”Ÿæˆ\r\n    // èªªæ˜ï¼šæ•´åˆ PDF ç”Ÿæˆæœå‹™ï¼ˆå«æ¨™é¡Œã€é›™æ–¹ã€é‡‘é¡ã€æ—¥æœŸã€ç°½åï¼‰\r\n    console.log('Generating PDF for contract:', contractId);\r\n    \r\n    return { success: true, data: { pdfUrl: 'https://example.com/contract.pdf' } };\r\n  } catch (error) {\r\n    console.error('Error generating PDF:', error);\r\n    return { success: false, error: 'Failed to generate PDF' };\r\n  }\r\n}\r"
  },
  {
    "priority": "P2",
    "type": "CLEANUP",
    "description": "unused import (L39) [ä½èªçŸ¥]",
    "details": [
      "TODO: [P1] TYPING no-any (L192, L221) [ä½èªçŸ¥]",
      "TODO: [P1] HOOK deps (L365) [ä½èªçŸ¥]",
      "TODO: [P1] REFACTOR src/components/auth/auth-provider.tsx - ç¸®æ¸›è²¬ä»»é‚Šç•Œèˆ‡è³‡æ–™ä¸‹å‚³",
      "åŸå‰‡ï¼ˆNext.js App Router / Firebaseï¼‰ï¼š",
      "- Firestore èšåˆè½‰æœå‹™å±¤ï¼›Provider åƒ…ä¿ç•™ userId/effectivePermissions ç­‰æœ€å°å¿…è¦ã€‚",
      "- ç¦æ­¢åœ¨ render æœŸé–“åš I/Oï¼›mutation èµ° Server Actions æˆ–æ˜ç¢ºäº‹ä»¶è§¸ç™¼ã€‚",
      "- å°‡ `PermissionGuard` æŠ½è‡³æ›´å° APIï¼ˆä¾‹å¦‚ useHasPermission(selector)ï¼‰ä»¥ä¾¿ç·¨è­¯æœŸ tree-shakingã€‚"
    ],
    "file": "src\\components\\auth\\auth-provider.tsx",
    "line": 8,
    "assignee": "ai",
    "context": " */\n\n'use client';\n// TODO: [P2] CLEANUP unused import (L39) [ä½èªçŸ¥]\n// TODO: [P1] TYPING no-any (L192, L221) [ä½èªçŸ¥]\n// TODO: [P1] HOOK deps (L365) [ä½èªçŸ¥]\n// TODO: [P1] REFACTOR src/components/auth/auth-provider.tsx - ç¸®æ¸›è²¬ä»»é‚Šç•Œèˆ‡è³‡æ–™ä¸‹å‚³\n// åŸå‰‡ï¼ˆNext.js App Router / Firebaseï¼‰ï¼š\n// - Firestore èšåˆè½‰æœå‹™å±¤ï¼›Provider åƒ…ä¿ç•™ userId/effectivePermissions ç­‰æœ€å°å¿…è¦ã€‚\n// - ç¦æ­¢åœ¨ render æœŸé–“åš I/Oï¼›mutation èµ° Server Actions æˆ–æ˜ç¢ºäº‹ä»¶è§¸ç™¼ã€‚\n// - å°‡ `PermissionGuard` æŠ½è‡³æ›´å° APIï¼ˆä¾‹å¦‚ useHasPermission(selector)ï¼‰ä»¥ä¾¿ç·¨è­¯æœŸ tree-shakingã€‚\n// @assignee ai\n"
  },
  {
    "priority": "P2",
    "type": "REFACTOR",
    "description": "src/components/auth/auth-provider.tsx - å¥§å¡å§†å‰ƒåˆ€ç²¾ç°¡æ¬Šé™/èªè­‰ Provider",
    "details": [
      "å»ºè­°ï¼š",
      "1) å°‡ Firestore è®€å–æ‹†ç‚ºæœ€å° APIï¼ˆå–®ä¸€ fetchUserRoleAssignmentï¼‰ï¼Œå…¶é¤˜èšåˆé‚è¼¯ç§»è‡³ serviceï¼›Provider åƒ…ä¿å­˜å¿…è¦ç‹€æ…‹ã€‚",
      "2) åƒ…æš´éœ²æœ€å° APIï¼ˆhasPermission / checkPermission / signIn / signOutï¼‰ï¼Œå…¶é¤˜è¼”åŠ©å‡½å¼å°è£å…§éƒ¨ã€‚",
      "3) é¿å…æ¸²æŸ“æœŸå‰¯ä½œç”¨ï¼›æ‰€æœ‰ mutation ç¶å®šäº‹ä»¶æˆ– Server Actionsï¼›é¿å…å°‡å®Œæ•´ä½¿ç”¨è€…è³‡æ–™ä¸‹å‚³è‡³ clientã€‚"
    ],
    "file": "src\\components\\auth\\auth-provider.tsx",
    "line": 18,
    "context": "// - å°‡ `PermissionGuard` æŠ½è‡³æ›´å° APIï¼ˆä¾‹å¦‚ useHasPermission(selector)ï¼‰ä»¥ä¾¿ç·¨è­¯æœŸ tree-shakingã€‚\n// @assignee ai\n\n// TODO: [P2] REFACTOR src/components/auth/auth-provider.tsx - å¥§å¡å§†å‰ƒåˆ€ç²¾ç°¡æ¬Šé™/èªè­‰ Provider\n// å»ºè­°ï¼š\n// 1) å°‡ Firestore è®€å–æ‹†ç‚ºæœ€å° APIï¼ˆå–®ä¸€ fetchUserRoleAssignmentï¼‰ï¼Œå…¶é¤˜èšåˆé‚è¼¯ç§»è‡³ serviceï¼›Provider åƒ…ä¿å­˜å¿…è¦ç‹€æ…‹ã€‚\n// 2) åƒ…æš´éœ²æœ€å° APIï¼ˆhasPermission / checkPermission / signIn / signOutï¼‰ï¼Œå…¶é¤˜è¼”åŠ©å‡½å¼å°è£å…§éƒ¨ã€‚\n// 3) é¿å…æ¸²æŸ“æœŸå‰¯ä½œç”¨ï¼›æ‰€æœ‰ mutation ç¶å®šäº‹ä»¶æˆ– Server Actionsï¼›é¿å…å°‡å®Œæ•´ä½¿ç”¨è€…è³‡æ–™ä¸‹å‚³è‡³ clientã€‚\n\nimport React, { createContext, useContext, useState, useEffect, ReactNode, useCallback } from 'react';\nimport { \n  Permission, \n  UserRoleAssignment, "
  },
  {
    "priority": "P2",
    "type": "CLEANUP",
    "description": "unused imports/vars (L28, L41, L70, L88, L89, L134) [ä½èªçŸ¥]",
    "details": [
      "TODO: [P1] HOOK deps (L156) [ä½èªçŸ¥]",
      "TODO: [P2] REFACTOR src/components/auth/role-manager.tsx - é¿å…åˆ—è¡¨æ¸²æŸ“æœŸæ˜‚è²´æ“ä½œ",
      "å»ºè­°ï¼š",
      "- å°‡ roles/users è¼‰å…¥æ”¹ç‚ºæ‡¶è¼‰ï¼ˆæŒ‰éœ€æ‰“é–‹æ™‚å†æŸ¥è©¢ï¼‰ï¼›è¡¨æ ¼åƒ…é¡¯ç¤ºå‰å¹¾å€‹æ¬Šé™ï¼Œå…¶é¤˜ä»¥ lazy å±•é–‹ã€‚",
      "- å°è©±æ¡†æŠ½æˆå°å‹å­å…ƒä»¶æˆ–åŒæª”å…§è¯ï¼Œé¿å… props éˆéæ·±ï¼›é‡è¤‡é‚è¼¯ â‰¥3 æ¬¡å†æŠ½è±¡ã€‚",
      "- æ¬Šé™æª¢æŸ¥æ”¹ç”¨ `useAuth()` çš„å–®ä¸€ selectorï¼Œç§»é™¤æœ¬æª”é‡è¤‡ hasPermission èª¿ç”¨ã€‚"
    ],
    "file": "src\\components\\auth\\role-manager.tsx",
    "line": 8,
    "assignee": "ai",
    "context": " */\n\n'use client';\n// TODO: [P2] CLEANUP unused imports/vars (L28, L41, L70, L88, L89, L134) [ä½èªçŸ¥]\n// TODO: [P1] HOOK deps (L156) [ä½èªçŸ¥]\n// TODO: [P2] REFACTOR src/components/auth/role-manager.tsx - é¿å…åˆ—è¡¨æ¸²æŸ“æœŸæ˜‚è²´æ“ä½œ\n// å»ºè­°ï¼š\n// - å°‡ roles/users è¼‰å…¥æ”¹ç‚ºæ‡¶è¼‰ï¼ˆæŒ‰éœ€æ‰“é–‹æ™‚å†æŸ¥è©¢ï¼‰ï¼›è¡¨æ ¼åƒ…é¡¯ç¤ºå‰å¹¾å€‹æ¬Šé™ï¼Œå…¶é¤˜ä»¥ lazy å±•é–‹ã€‚\n// - å°è©±æ¡†æŠ½æˆå°å‹å­å…ƒä»¶æˆ–åŒæª”å…§è¯ï¼Œé¿å… props éˆéæ·±ï¼›é‡è¤‡é‚è¼¯ â‰¥3 æ¬¡å†æŠ½è±¡ã€‚\n// - æ¬Šé™æª¢æŸ¥æ”¹ç”¨ `useAuth()` çš„å–®ä¸€ selectorï¼Œç§»é™¤æœ¬æª”é‡è¤‡ hasPermission èª¿ç”¨ã€‚\n// @assignee ai\n\n// TODO: [P2] REFACTOR src/components/auth/role-manager.tsx - å¥§å¡å§†å‰ƒåˆ€ç²¾ç°¡è§’è‰²ç®¡ç†"
  },
  {
    "priority": "P2",
    "type": "REFACTOR",
    "description": "src/components/auth/role-manager.tsx - é¿å…åˆ—è¡¨æ¸²æŸ“æœŸæ˜‚è²´æ“ä½œ",
    "details": [
      "å»ºè­°ï¼š",
      "- å°‡ roles/users è¼‰å…¥æ”¹ç‚ºæ‡¶è¼‰ï¼ˆæŒ‰éœ€æ‰“é–‹æ™‚å†æŸ¥è©¢ï¼‰ï¼›è¡¨æ ¼åƒ…é¡¯ç¤ºå‰å¹¾å€‹æ¬Šé™ï¼Œå…¶é¤˜ä»¥ lazy å±•é–‹ã€‚",
      "- å°è©±æ¡†æŠ½æˆå°å‹å­å…ƒä»¶æˆ–åŒæª”å…§è¯ï¼Œé¿å… props éˆéæ·±ï¼›é‡è¤‡é‚è¼¯ â‰¥3 æ¬¡å†æŠ½è±¡ã€‚",
      "- æ¬Šé™æª¢æŸ¥æ”¹ç”¨ `useAuth()` çš„å–®ä¸€ selectorï¼Œç§»é™¤æœ¬æª”é‡è¤‡ hasPermission èª¿ç”¨ã€‚"
    ],
    "file": "src\\components\\auth\\role-manager.tsx",
    "line": 10,
    "assignee": "ai",
    "context": "'use client';\n// TODO: [P2] CLEANUP unused imports/vars (L28, L41, L70, L88, L89, L134) [ä½èªçŸ¥]\n// TODO: [P1] HOOK deps (L156) [ä½èªçŸ¥]\n// TODO: [P2] REFACTOR src/components/auth/role-manager.tsx - é¿å…åˆ—è¡¨æ¸²æŸ“æœŸæ˜‚è²´æ“ä½œ\n// å»ºè­°ï¼š\n// - å°‡ roles/users è¼‰å…¥æ”¹ç‚ºæ‡¶è¼‰ï¼ˆæŒ‰éœ€æ‰“é–‹æ™‚å†æŸ¥è©¢ï¼‰ï¼›è¡¨æ ¼åƒ…é¡¯ç¤ºå‰å¹¾å€‹æ¬Šé™ï¼Œå…¶é¤˜ä»¥ lazy å±•é–‹ã€‚\n// - å°è©±æ¡†æŠ½æˆå°å‹å­å…ƒä»¶æˆ–åŒæª”å…§è¯ï¼Œé¿å… props éˆéæ·±ï¼›é‡è¤‡é‚è¼¯ â‰¥3 æ¬¡å†æŠ½è±¡ã€‚\n// - æ¬Šé™æª¢æŸ¥æ”¹ç”¨ `useAuth()` çš„å–®ä¸€ selectorï¼Œç§»é™¤æœ¬æª”é‡è¤‡ hasPermission èª¿ç”¨ã€‚\n// @assignee ai\n\n// TODO: [P2] REFACTOR src/components/auth/role-manager.tsx - å¥§å¡å§†å‰ƒåˆ€ç²¾ç°¡è§’è‰²ç®¡ç†\n// å»ºè­°ï¼š\n// 1) åˆä½µ Firestore è®€å–ï¼šæ‰¹é‡æŸ¥è©¢èˆ‡æœ€å°æ¬„ä½æŠ•å½±ï¼›ä»¥å–®ä¸€ hook/context ç®¡ç† users/roles ç‹€æ…‹ï¼Œç§»é™¤é‡è¤‡ useStateã€‚"
  },
  {
    "priority": "P2",
    "type": "REFACTOR",
    "description": "src/components/auth/role-manager.tsx - å¥§å¡å§†å‰ƒåˆ€ç²¾ç°¡è§’è‰²ç®¡ç†",
    "details": [
      "å»ºè­°ï¼š",
      "1) åˆä½µ Firestore è®€å–ï¼šæ‰¹é‡æŸ¥è©¢èˆ‡æœ€å°æ¬„ä½æŠ•å½±ï¼›ä»¥å–®ä¸€ hook/context ç®¡ç† users/roles ç‹€æ…‹ï¼Œç§»é™¤é‡è¤‡ useStateã€‚",
      "2) åƒ…åœ¨äº’å‹•æ™‚è¼‰å…¥è©³æƒ…ï¼ˆlazy/load-on-demandï¼‰ï¼Œè¡¨æ ¼åªé¡¯ç¤ºæœ€å°‘æ¬„ä½ï¼›é¿å…åœ¨åˆ—è¡¨æ¸²æŸ“æ™‚è¨ˆç®—èšåˆã€‚",
      "3) å°‡å°è©±æ¡†çµ„ä»¶ç§»è‡³åŒä¸€æª”å…§çš„è¼•é‡å…§è¯æˆ–å…±ç”¨å­ç›®éŒ„ï¼›é‡è¤‡å‡ºç¾ â‰¥3 æ¬¡çš„è¡¨å–®è¡Œç‚ºå†æŠ½è±¡ã€‚",
      "4) æ¬Šé™åˆ¤æ–·é›†ä¸­åœ¨ `useAuth()` æš´éœ²çš„å–®ä¸€ selectorï¼Œé¿å…åœ¨æœ¬æª”é‡è¤‡ hasPermissionã€‚"
    ],
    "file": "src\\components\\auth\\role-manager.tsx",
    "line": 17,
    "context": "// - æ¬Šé™æª¢æŸ¥æ”¹ç”¨ `useAuth()` çš„å–®ä¸€ selectorï¼Œç§»é™¤æœ¬æª”é‡è¤‡ hasPermission èª¿ç”¨ã€‚\n// @assignee ai\n\n// TODO: [P2] REFACTOR src/components/auth/role-manager.tsx - å¥§å¡å§†å‰ƒåˆ€ç²¾ç°¡è§’è‰²ç®¡ç†\n// å»ºè­°ï¼š\n// 1) åˆä½µ Firestore è®€å–ï¼šæ‰¹é‡æŸ¥è©¢èˆ‡æœ€å°æ¬„ä½æŠ•å½±ï¼›ä»¥å–®ä¸€ hook/context ç®¡ç† users/roles ç‹€æ…‹ï¼Œç§»é™¤é‡è¤‡ useStateã€‚\n// 2) åƒ…åœ¨äº’å‹•æ™‚è¼‰å…¥è©³æƒ…ï¼ˆlazy/load-on-demandï¼‰ï¼Œè¡¨æ ¼åªé¡¯ç¤ºæœ€å°‘æ¬„ä½ï¼›é¿å…åœ¨åˆ—è¡¨æ¸²æŸ“æ™‚è¨ˆç®—èšåˆã€‚\n// 3) å°‡å°è©±æ¡†çµ„ä»¶ç§»è‡³åŒä¸€æª”å…§çš„è¼•é‡å…§è¯æˆ–å…±ç”¨å­ç›®éŒ„ï¼›é‡è¤‡å‡ºç¾ â‰¥3 æ¬¡çš„è¡¨å–®è¡Œç‚ºå†æŠ½è±¡ã€‚\n// 4) æ¬Šé™åˆ¤æ–·é›†ä¸­åœ¨ `useAuth()` æš´éœ²çš„å–®ä¸€ selectorï¼Œé¿å…åœ¨æœ¬æª”é‡è¤‡ hasPermissionã€‚\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';"
  },
  {
    "priority": "P2",
    "type": "REFACTOR",
    "description": "src/components/auth/role-manager.tsx:28 - æ¸…ç†æœªä½¿ç”¨çš„å°å…¥",
    "details": [
      "å•é¡Œï¼š'Switch' å·²å°å…¥ä½†å¾æœªä½¿ç”¨",
      "å½±éŸ¿ï¼šå¢åŠ  bundle å¤§å°ï¼Œå½±éŸ¿æ€§èƒ½",
      "å»ºè­°ï¼šç§»é™¤æœªä½¿ç”¨çš„å°å…¥æˆ–æ·»åŠ ä¸‹åŠƒç·šå‰ç¶´è¡¨ç¤ºæœ‰æ„æœªä½¿ç”¨"
    ],
    "file": "src\\components\\auth\\role-manager.tsx",
    "line": 31,
    "assignee": "frontend",
    "context": "import { Label } from '@/components/ui/label';\nimport { Badge } from '@/components/ui/badge';\n\n// TODO: [P2] REFACTOR src/components/auth/role-manager.tsx:28 - æ¸…ç†æœªä½¿ç”¨çš„å°å…¥\n// å•é¡Œï¼š'Switch' å·²å°å…¥ä½†å¾æœªä½¿ç”¨\n// å½±éŸ¿ï¼šå¢åŠ  bundle å¤§å°ï¼Œå½±éŸ¿æ€§èƒ½\n// å»ºè­°ï¼šç§»é™¤æœªä½¿ç”¨çš„å°å…¥æˆ–æ·»åŠ ä¸‹åŠƒç·šå‰ç¶´è¡¨ç¤ºæœ‰æ„æœªä½¿ç”¨\n// @assignee frontend-team\n\nimport { \n  Dialog, \n  DialogContent, \n  DialogHeader, "
  },
  {
    "priority": "P2",
    "type": "REFACTOR",
    "description": "src/components/auth/role-manager.tsx:34 - æ¸…ç†æœªä½¿ç”¨çš„å°å…¥",
    "details": [
      "å•é¡Œï¼š'DialogTrigger' å·²å°å…¥ä½†å¾æœªä½¿ç”¨",
      "å½±éŸ¿ï¼šå¢åŠ  bundle å¤§å°ï¼Œå½±éŸ¿æ€§èƒ½",
      "å»ºè­°ï¼šç§»é™¤æœªä½¿ç”¨çš„å°å…¥æˆ–æ·»åŠ ä¸‹åŠƒç·šå‰ç¶´è¡¨ç¤ºæœ‰æ„æœªä½¿ç”¨"
    ],
    "file": "src\\components\\auth\\role-manager.tsx",
    "line": 44,
    "assignee": "frontend",
    "context": "  DialogTitle \n} from '@/components/ui/dialog';\n\n// TODO: [P2] REFACTOR src/components/auth/role-manager.tsx:34 - æ¸…ç†æœªä½¿ç”¨çš„å°å…¥\n// å•é¡Œï¼š'DialogTrigger' å·²å°å…¥ä½†å¾æœªä½¿ç”¨\n// å½±éŸ¿ï¼šå¢åŠ  bundle å¤§å°ï¼Œå½±éŸ¿æ€§èƒ½\n// å»ºè­°ï¼šç§»é™¤æœªä½¿ç”¨çš„å°å…¥æˆ–æ·»åŠ ä¸‹åŠƒç·šå‰ç¶´è¡¨ç¤ºæœ‰æ„æœªä½¿ç”¨\n// @assignee frontend-team\nimport { \n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,"
  },
  {
    "priority": "P2",
    "type": "REFACTOR",
    "description": "src/components/auth/role-manager.tsx:57 - æ¸…ç†æœªä½¿ç”¨çš„å°å…¥",
    "details": [
      "å•é¡Œï¼š'Settings' å·²å°å…¥ä½†å¾æœªä½¿ç”¨",
      "å½±éŸ¿ï¼šå¢åŠ  bundle å¤§å°ï¼Œå½±éŸ¿æ€§èƒ½",
      "å»ºè­°ï¼šç§»é™¤æœªä½¿ç”¨çš„å°å…¥æˆ–æ·»åŠ ä¸‹åŠƒç·šå‰ç¶´è¡¨ç¤ºæœ‰æ„æœªä½¿ç”¨"
    ],
    "file": "src\\components\\auth\\role-manager.tsx",
    "line": 73,
    "assignee": "frontend",
    "context": "  Search\n} from 'lucide-react';\n\n// TODO: [P2] REFACTOR src/components/auth/role-manager.tsx:57 - æ¸…ç†æœªä½¿ç”¨çš„å°å…¥\n// å•é¡Œï¼š'Settings' å·²å°å…¥ä½†å¾æœªä½¿ç”¨\n// å½±éŸ¿ï¼šå¢åŠ  bundle å¤§å°ï¼Œå½±éŸ¿æ€§èƒ½\n// å»ºè­°ï¼šç§»é™¤æœªä½¿ç”¨çš„å°å…¥æˆ–æ·»åŠ ä¸‹åŠƒç·šå‰ç¶´è¡¨ç¤ºæœ‰æ„æœªä½¿ç”¨\n// @assignee frontend-team\n\nimport { useAuth } from './auth-provider';\n\n// TODO: [P2] REFACTOR src/components/auth/role-manager.tsx:61 - æ¸…ç†æœªä½¿ç”¨çš„å°å…¥\n// å•é¡Œï¼š'roleManagementService' å·²å°å…¥ä½†å¾æœªä½¿ç”¨"
  },
  {
    "priority": "P2",
    "type": "REFACTOR",
    "description": "src/components/auth/role-manager.tsx:61 - æ¸…ç†æœªä½¿ç”¨çš„å°å…¥",
    "details": [
      "å•é¡Œï¼š'roleManagementService' å·²å°å…¥ä½†å¾æœªä½¿ç”¨",
      "å½±éŸ¿ï¼šå¢åŠ  bundle å¤§å°ï¼Œå½±éŸ¿æ€§èƒ½",
      "å»ºè­°ï¼šç§»é™¤æœªä½¿ç”¨çš„å°å…¥æˆ–æ·»åŠ ä¸‹åŠƒç·šå‰ç¶´è¡¨ç¤ºæœ‰æ„æœªä½¿ç”¨"
    ],
    "file": "src\\components\\auth\\role-manager.tsx",
    "line": 81,
    "assignee": "frontend",
    "context": "\nimport { useAuth } from './auth-provider';\n\n// TODO: [P2] REFACTOR src/components/auth/role-manager.tsx:61 - æ¸…ç†æœªä½¿ç”¨çš„å°å…¥\n// å•é¡Œï¼š'roleManagementService' å·²å°å…¥ä½†å¾æœªä½¿ç”¨\n// å½±éŸ¿ï¼šå¢åŠ  bundle å¤§å°ï¼Œå½±éŸ¿æ€§èƒ½\n// å»ºè­°ï¼šç§»é™¤æœªä½¿ç”¨çš„å°å…¥æˆ–æ·»åŠ ä¸‹åŠƒç·šå‰ç¶´è¡¨ç¤ºæœ‰æ„æœªä½¿ç”¨\n// @assignee frontend-team\n\nimport { Permission } from '@/lib/types-unified';\n\n// TODO: [P2] REFACTOR src/components/auth/role-manager.tsx:62 - æ¸…ç†æœªä½¿ç”¨çš„å°å…¥\n// å•é¡Œï¼š'UserRoleAssignment' å·²å°å…¥ä½†å¾æœªä½¿ç”¨"
  },
  {
    "priority": "P2",
    "type": "REFACTOR",
    "description": "src/components/auth/role-manager.tsx:62 - æ¸…ç†æœªä½¿ç”¨çš„å°å…¥",
    "details": [
      "å•é¡Œï¼š'UserRoleAssignment' å·²å°å…¥ä½†å¾æœªä½¿ç”¨",
      "å½±éŸ¿ï¼šå¢åŠ  bundle å¤§å°ï¼Œå½±éŸ¿æ€§èƒ½",
      "å»ºè­°ï¼šç§»é™¤æœªä½¿ç”¨çš„å°å…¥æˆ–æ·»åŠ ä¸‹åŠƒç·šå‰ç¶´è¡¨ç¤ºæœ‰æ„æœªä½¿ç”¨"
    ],
    "file": "src\\components\\auth\\role-manager.tsx",
    "line": 89,
    "assignee": "frontend",
    "context": "\nimport { Permission } from '@/lib/types-unified';\n\n// TODO: [P2] REFACTOR src/components/auth/role-manager.tsx:62 - æ¸…ç†æœªä½¿ç”¨çš„å°å…¥\n// å•é¡Œï¼š'UserRoleAssignment' å·²å°å…¥ä½†å¾æœªä½¿ç”¨\n// å½±éŸ¿ï¼šå¢åŠ  bundle å¤§å°ï¼Œå½±éŸ¿æ€§èƒ½\n// å»ºè­°ï¼šç§»é™¤æœªä½¿ç”¨çš„å°å…¥æˆ–æ·»åŠ ä¸‹åŠƒç·šå‰ç¶´è¡¨ç¤ºæœ‰æ„æœªä½¿ç”¨\n// @assignee frontend-team\nimport { \n  getFirestore, \n  collection, \n  doc, \n  getDocs, "
  },
  {
    "priority": "P2",
    "type": "FEAT",
    "description": "src/components/features/organizations/components/roles/create-role-dialog.tsx - å¯¦ç¾è§’è‰²å‰µå»º API èª¿ç”¨",
    "details": [],
    "file": "src\\components\\features\\organizations\\components\\roles\\create-role-dialog.tsx",
    "line": 70,
    "context": "  const onSubmit = async (data: RoleFormData) => {\r\n    setIsLoading(true);\r\n    try {\r\n      // TODO: [P2] FEAT src/components/features/organizations/components/roles/create-role-dialog.tsx - å¯¦ç¾è§’è‰²å‰µå»º API èª¿ç”¨\r\n      console.log('Creating role for organization:', organizationId, data);\r\n      // @assignee dev\r\n      \r\n      // Simulate API call\r\n      await new Promise(resolve => setTimeout(resolve, 1000));\r\n      \r\n      reset();\r\n      onOpenChange(false);\r\n    } catch (error) {\r"
  },
  {
    "priority": "P2",
    "type": "FEAT",
    "description": "src/components/features/organizations/components/roles/role-list.tsx - å¯¦ç¾æ¬Šé™æ›´æ–°é‚è¼¯",
    "details": [],
    "file": "src\\components\\features\\organizations\\components\\roles\\role-list.tsx",
    "line": 169,
    "context": "  );\r\n\r\n  const handlePermissionToggle = (roleId: string, permission: keyof Role['permissions']) => {\r\n    // TODO: [P2] FEAT src/components/features/organizations/components/roles/role-list.tsx - å¯¦ç¾æ¬Šé™æ›´æ–°é‚è¼¯\r\n    console.log(`Toggle ${permission} for role ${roleId}`);\r\n    // @assignee dev\r\n  };\r\n\r\n  const handleAccessLevelChange = (roleId: string, accessLevel: string) => {\r\n    // TODO: [P2] FEAT src/components/features/organizations/components/roles/role-list.tsx - å¯¦ç¾è¨ªå•ç´šåˆ¥æ›´æ–°é‚è¼¯\r\n    console.log(`Change access level to ${accessLevel} for role ${roleId}`);\r\n    // @assignee dev\r\n  };\r"
  },
  {
    "priority": "P2",
    "type": "FEAT",
    "description": "src/components/features/organizations/components/roles/role-list.tsx - å¯¦ç¾è¨ªå•ç´šåˆ¥æ›´æ–°é‚è¼¯",
    "details": [],
    "file": "src\\components\\features\\organizations\\components\\roles\\role-list.tsx",
    "line": 175,
    "context": "  };\r\n\r\n  const handleAccessLevelChange = (roleId: string, accessLevel: string) => {\r\n    // TODO: [P2] FEAT src/components/features/organizations/components/roles/role-list.tsx - å¯¦ç¾è¨ªå•ç´šåˆ¥æ›´æ–°é‚è¼¯\r\n    console.log(`Change access level to ${accessLevel} for role ${roleId}`);\r\n    // @assignee dev\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r"
  },
  {
    "priority": "P2",
    "type": "FEAT",
    "description": "src/components/features/spaces/components/acceptance/initiate-acceptance-flow.tsx - å¯¦ä½œå‰µå»ºé©—æ”¶ API å‘¼å«",
    "details": [],
    "file": "src\\components\\features\\spaces\\components\\acceptance\\initiate-acceptance-flow.tsx",
    "line": 74,
    "context": "  const onSubmit = async (data: InitiateAcceptanceFormValues) => {\r\n    setIsLoading(true);\r\n    try {\r\n      // TODO: [P2] FEAT src/components/features/spaces/components/acceptance/initiate-acceptance-flow.tsx - å¯¦ä½œå‰µå»ºé©—æ”¶ API å‘¼å«\r\n      console.log('Creating acceptance item:', { spaceId, ...data });\r\n      // @assignee dev\r\n      await new Promise(resolve => setTimeout(resolve, 1000)); // Simulate API call\r\n      \r\n      const newAcceptance = {\r\n        id: Date.now().toString(),\r\n        ...data,\r\n        status: 'pending' as const,\r\n        requester: { id: 'current-user', name: 'Current User' },\r"
  },
  {
    "priority": "P2",
    "type": "FEAT",
    "description": "src/components/features/spaces/components/contracts/contract-details.tsx - å¯¦ç¾åˆç´„ä¸‹è¼‰é‚è¼¯",
    "details": [],
    "file": "src\\components\\features\\spaces\\components\\contracts\\contract-details.tsx",
    "line": 103,
    "context": "  };\r\n\r\n  const handleDownload = () => {\r\n    // TODO: [P2] FEAT src/components/features/spaces/components/contracts/contract-details.tsx - å¯¦ç¾åˆç´„ä¸‹è¼‰é‚è¼¯\r\n    console.log('Downloading contract:', contract.title);\r\n    // @assignee dev\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"max-w-4xl max-h-[90vh]\">\r\n        <DialogHeader>\r\n          <DialogTitle className=\"flex items-center gap-2\">\r"
  },
  {
    "priority": "P2",
    "type": "REFACTOR",
    "description": "src/components/features/spaces/components/contracts/contract-list.tsx - å¥§å¡å§†å‰ƒåˆ€ç²¾ç°¡åˆ—è¡¨",
    "details": [
      "å»ºè­°ï¼š",
      "1) å°‡çµ±è¨ˆï¼ˆtotal/pending/activeï¼‰ç§»è‡³ memo æˆ–ä¸Šå±¤ hookï¼Œé¿å…åœ¨æ¸²æŸ“æœŸåè¦†è¨ˆç®—ã€‚",
      "2) é¡å‹åœ–ç¤ºä»¥ CSS/variant å–ä»£å¤šåˆ†æ”¯ï¼›æœ€å°åŒ– UI æ¢ä»¶åˆ†æ”¯ã€‚",
      "3) è©³æƒ… `ContractDetails` æ¡ lazy importï¼ˆå‹•æ…‹è¼‰å…¥ï¼‰ï¼Œæ¸›å°‘é¦–å±è² æ“”ã€‚"
    ],
    "file": "src\\components\\features\\spaces\\components\\contracts\\contract-list.tsx",
    "line": 14,
    "context": "// âœ… [COMPLETED] å·²æ¸…ç†æœªä½¿ç”¨çš„é‡å‘½åå°å…¥ï¼šFileText as _FileText, DollarSign as _DollarSign\n// ç¾ä»£åŒ–æ”¹é€²ï¼šç§»é™¤æœªä½¿ç”¨çš„å°å…¥ï¼Œé™ä½èªçŸ¥è² æ“”ï¼Œæ¸›å°‘ bundle å¤§å°\n// å»ºè­°ï¼šé…ç½® ESLint no-unused-vars è¦å‰‡è‡ªå‹•æª¢æ¸¬æœªä½¿ç”¨çš„å°å…¥\n// TODO: [P2] REFACTOR src/components/features/spaces/components/contracts/contract-list.tsx - å¥§å¡å§†å‰ƒåˆ€ç²¾ç°¡åˆ—è¡¨\n// å»ºè­°ï¼š\n// 1) å°‡çµ±è¨ˆï¼ˆtotal/pending/activeï¼‰ç§»è‡³ memo æˆ–ä¸Šå±¤ hookï¼Œé¿å…åœ¨æ¸²æŸ“æœŸåè¦†è¨ˆç®—ã€‚\n// 2) é¡å‹åœ–ç¤ºä»¥ CSS/variant å–ä»£å¤šåˆ†æ”¯ï¼›æœ€å°åŒ– UI æ¢ä»¶åˆ†æ”¯ã€‚\n// 3) è©³æƒ… `ContractDetails` æ¡ lazy importï¼ˆå‹•æ…‹è¼‰å…¥ï¼‰ï¼Œæ¸›å°‘é¦–å±è² æ“”ã€‚\nimport { CreateContractDialog } from './create-contract-dialog';\nimport { ContractDetails } from './contract-details';\nimport { useState } from 'react';\n\ninterface Contract {"
  },
  {
    "priority": "P2",
    "type": "REFACTOR",
    "description": "src/components/features/spaces/components/file-explorer/context-menu.tsx - å°‡éœæ…‹é¸å–®çµæ§‹æŠ½ç‚ºå¸¸æ•¸",
    "details": [
      "èªªæ˜ï¼šmenuItems å¯æŠ½æˆå¸¸æ•¸èˆ‡å‹åˆ¥ï¼Œé¿å…æ–¼ render æœŸå»ºæ§‹å¤§å‹ç‰©ä»¶ï¼›ä¿ç•™å‹•ä½œå›å‘¼ä»‹é¢ã€‚",
      "å½±éŸ¿ï¼šç„¡åŠŸèƒ½è®Šå‹•ã€é™ä½æ¸²æŸ“è² æ“”èˆ‡é–±è®€æˆæœ¬ã€‚"
    ],
    "file": "src\\components\\features\\spaces\\components\\file-explorer\\context-menu.tsx",
    "line": 7,
    "assignee": "ai",
    "context": " * selected item. A separate context menu for the toolbar is also defined here.\n */\n'use client';\n// TODO: [P2] REFACTOR src/components/features/spaces/components/file-explorer/context-menu.tsx - å°‡éœæ…‹é¸å–®çµæ§‹æŠ½ç‚ºå¸¸æ•¸\n// èªªæ˜ï¼šmenuItems å¯æŠ½æˆå¸¸æ•¸èˆ‡å‹åˆ¥ï¼Œé¿å…æ–¼ render æœŸå»ºæ§‹å¤§å‹ç‰©ä»¶ï¼›ä¿ç•™å‹•ä½œå›å‘¼ä»‹é¢ã€‚\n// å½±éŸ¿ï¼šç„¡åŠŸèƒ½è®Šå‹•ã€é™ä½æ¸²æŸ“è² æ“”èˆ‡é–±è®€æˆæœ¬ã€‚\n// @assignee ai\n\nimport React from 'react';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,"
  },
  {
    "priority": "P2",
    "type": "VAN",
    "description": "- ç¾ä»£åŒ–é¡å‹å®šç¾©ï¼Œç§»é™¤ä¸å¿…è¦çš„é¡å‹æ–·è¨€",
    "details": [
      "å•é¡Œï¼šcolumn.id as SortField å’Œ checked as boolean éœ€è¦é¡å‹æ–·è¨€",
      "è§£æ±ºæ–¹æ¡ˆï¼šå®šç¾©æ›´ç²¾ç¢ºçš„é¡å‹ï¼Œä½¿ç”¨é¡å‹å®ˆè¡›æ›¿ä»£é¡å‹æ–·è¨€",
      "ç¾ä»£åŒ–å»ºè­°ï¼šä½¿ç”¨ const assertions å’Œè¯åˆé¡å‹æå‡é¡å‹å®‰å…¨",
      "æ•ˆèƒ½å½±éŸ¿ï¼šç„¡ï¼Œä½†æå‡é¡å‹å®‰å…¨æ€§å’Œä»£ç¢¼å¯è®€æ€§",
      "ç›¸é—œå—å½±éŸ¿æª”æ¡ˆï¼šç„¡ï¼ˆå…§éƒ¨é‡æ§‹ï¼‰"
    ],
    "file": "src\\components\\features\\spaces\\components\\file-explorer\\file-table.tsx",
    "line": 41,
    "context": "  onItemAction: (item: FileItem, action: string) => void;\n}\n\n// TODO: [P2] VAN - ç¾ä»£åŒ–é¡å‹å®šç¾©ï¼Œç§»é™¤ä¸å¿…è¦çš„é¡å‹æ–·è¨€\n// å•é¡Œï¼šcolumn.id as SortField å’Œ checked as boolean éœ€è¦é¡å‹æ–·è¨€\n// è§£æ±ºæ–¹æ¡ˆï¼šå®šç¾©æ›´ç²¾ç¢ºçš„é¡å‹ï¼Œä½¿ç”¨é¡å‹å®ˆè¡›æ›¿ä»£é¡å‹æ–·è¨€\n// ç¾ä»£åŒ–å»ºè­°ï¼šä½¿ç”¨ const assertions å’Œè¯åˆé¡å‹æå‡é¡å‹å®‰å…¨\n// æ•ˆèƒ½å½±éŸ¿ï¼šç„¡ï¼Œä½†æå‡é¡å‹å®‰å…¨æ€§å’Œä»£ç¢¼å¯è®€æ€§\n// ç›¸é—œå—å½±éŸ¿æª”æ¡ˆï¼šç„¡ï¼ˆå…§éƒ¨é‡æ§‹ï¼‰\ntype SortField = 'name' | 'description' | 'version' | 'indicator' | 'tag' | 'issue' | 'size' | 'lastUpdate' | 'updater' | 'versionContributor' | 'reviewStatus';\ntype SortDirection = 'asc' | 'desc';\n\nexport function FileTable({ files, selectedItems, onSelectionChange, onItemClick, onItemAction }: FileTableProps) {"
  },
  {
    "priority": "P2",
    "type": "REFACTOR",
    "description": "src/components/features/spaces/components/file-explorer/services/file-preview-service.ts - å¼·åŒ–å‹åˆ¥èˆ‡éŒ¯èª¤è™•ç†",
    "details": [
      "èªªæ˜ï¼šç‚º handleError å¢åŠ é¡å‹å®ˆè¡›ï¼Œä¸¦å°‡ MIME å°ç…§è¡¨æŠ½å‡ºå¸¸æ•¸ï¼›å¯æä¾› `isPreviewError` type guardã€‚",
      "ç›®æ¨™ï¼šæå‡å‹åˆ¥å®‰å…¨èˆ‡å¯æ¸¬æ€§ï¼Œé™ä½ AI agent ç†è§£æˆæœ¬ã€‚"
    ],
    "file": "src\\components\\features\\spaces\\components\\file-explorer\\services\\file-preview-service.ts",
    "line": 7,
    "assignee": "ai",
    "context": " * Provides a unified interface for different file preview libraries.\n */\n'use client';\n// TODO: [P2] REFACTOR src/components/features/spaces/components/file-explorer/services/file-preview-service.ts - å¼·åŒ–å‹åˆ¥èˆ‡éŒ¯èª¤è™•ç†\n// èªªæ˜ï¼šç‚º handleError å¢åŠ é¡å‹å®ˆè¡›ï¼Œä¸¦å°‡ MIME å°ç…§è¡¨æŠ½å‡ºå¸¸æ•¸ï¼›å¯æä¾› `isPreviewError` type guardã€‚\n// ç›®æ¨™ï¼šæå‡å‹åˆ¥å®‰å…¨èˆ‡å¯æ¸¬æ€§ï¼Œé™ä½ AI agent ç†è§£æˆæœ¬ã€‚\n// @assignee ai\n\nimport { type FileItem } from '../folder-tree';\n\nexport interface PreviewDocument {\n  uri: string;\n  fileName: string;"
  },
  {
    "priority": "P2",
    "type": "FEAT",
    "description": "src/components/features/spaces/components/issues/create-issue-form.tsx - å¯¦ä½œå‰µå»ºå•é¡Œ API å‘¼å«",
    "details": [],
    "file": "src\\components\\features\\spaces\\components\\issues\\create-issue-form.tsx",
    "line": 69,
    "context": "  const onSubmit = async (data: CreateIssueFormValues) => {\r\n    setIsLoading(true);\r\n    try {\r\n      // TODO: [P2] FEAT src/components/features/spaces/components/issues/create-issue-form.tsx - å¯¦ä½œå‰µå»ºå•é¡Œ API å‘¼å«\r\n      console.log('Creating issue:', { spaceId, ...data });\r\n      // @assignee dev\r\n      await new Promise(resolve => setTimeout(resolve, 1000)); // Simulate API call\r\n      \r\n      const newIssue = {\r\n        id: Date.now().toString(),\r\n        ...data,\r\n        status: 'open' as const,\r\n        reporter: { id: 'current-user', name: 'Current User' },\r"
  },
  {
    "priority": "P2",
    "type": "FEAT",
    "description": "src/components/features/spaces/components/overview/hooks/use-dashboard-data.ts - æ›¿æ›ç‚ºå¯¦éš›çš„ API èª¿ç”¨",
    "details": [
      "é€™è£¡ä½¿ç”¨æ¨¡æ“¬æ•¸æ“š"
    ],
    "file": "src\\components\\features\\spaces\\components\\overview\\hooks\\use-dashboard-data.ts",
    "line": 41,
    "assignee": "dev",
    "context": "\r\n  // ç²å–å„€è¡¨æ¿çµ±è¨ˆæ•¸æ“š\r\n  const fetchStats = useCallback(async (): Promise<DashboardStats> => {\r\n    // TODO: [P2] FEAT src/components/features/spaces/components/overview/hooks/use-dashboard-data.ts - æ›¿æ›ç‚ºå¯¦éš›çš„ API èª¿ç”¨\r\n    // é€™è£¡ä½¿ç”¨æ¨¡æ“¬æ•¸æ“š\r\n    // @assignee dev\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        resolve({\r\n          members: Math.floor(Math.random() * 50) + 10,\r\n          files: Math.floor(Math.random() * 200) + 50,\r\n          issues: Math.floor(Math.random() * 20) + 2,\r\n          lastActivity: '2 hours ago',\r"
  },
  {
    "priority": "P2",
    "type": "FEAT",
    "description": "src/components/features/spaces/components/overview/hooks/use-dashboard-data.ts - æ›¿æ›ç‚ºå¯¦éš›çš„ API èª¿ç”¨",
    "details": [
      "é€™è£¡ä½¿ç”¨æ¨¡æ“¬æ•¸æ“š"
    ],
    "file": "src\\components\\features\\spaces\\components\\overview\\hooks\\use-dashboard-data.ts",
    "line": 60,
    "assignee": "dev",
    "context": "\r\n  // ç²å–æ´»å‹•æ•¸æ“š\r\n  const fetchActivities = useCallback(async (): Promise<ActivityItem[]> => {\r\n    // TODO: [P2] FEAT src/components/features/spaces/components/overview/hooks/use-dashboard-data.ts - æ›¿æ›ç‚ºå¯¦éš›çš„ API èª¿ç”¨\r\n    // é€™è£¡ä½¿ç”¨æ¨¡æ“¬æ•¸æ“š\r\n    // @assignee dev\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        const mockActivities: ActivityItem[] = [\r\n          {\r\n            id: '1',\r\n            type: 'file_upload',\r\n            user: 'John Doe',\r"
  },
  {
    "priority": "P2",
    "type": "VAN",
    "description": "- ç¾ä»£åŒ–é¡å‹æ–·è¨€ï¼Œä½¿ç”¨æ›´å®‰å…¨çš„é¡å‹å®ˆè¡›",
    "details": [
      "å•é¡Œï¼švalue as ViewMode['type'] ä½¿ç”¨é¡å‹æ–·è¨€ï¼Œå¯èƒ½å­˜åœ¨é¡å‹ä¸å®‰å…¨",
      "è§£æ±ºæ–¹æ¡ˆï¼šä½¿ç”¨é¡å‹å®ˆè¡›å‡½æ•¸é©—è­‰ value æ˜¯å¦ç‚ºæœ‰æ•ˆçš„ ViewMode['type']",
      "ç¾ä»£åŒ–å»ºè­°ï¼šconst isValidViewMode = (val: string): val is ViewMode['type'] => VIEW_MODES.some(m => m.type === val)",
      "æ•ˆèƒ½å½±éŸ¿ï¼šç„¡ï¼Œä½†æå‡é¡å‹å®‰å…¨æ€§å’Œé‹è¡Œæ™‚å®‰å…¨æ€§",
      "ç›¸é—œå—å½±éŸ¿æª”æ¡ˆï¼šç„¡ï¼ˆå…§éƒ¨é‡æ§‹ï¼Œä¸å½±éŸ¿å¤–éƒ¨æ¥å£ï¼‰"
    ],
    "file": "src\\components\\features\\spaces\\components\\participants\\view-toggle.tsx",
    "line": 53,
    "context": "        value={viewMode}\n        onValueChange={(value) => {\n          if (value) {\n            // TODO: [P2] VAN - ç¾ä»£åŒ–é¡å‹æ–·è¨€ï¼Œä½¿ç”¨æ›´å®‰å…¨çš„é¡å‹å®ˆè¡›\n            // å•é¡Œï¼švalue as ViewMode['type'] ä½¿ç”¨é¡å‹æ–·è¨€ï¼Œå¯èƒ½å­˜åœ¨é¡å‹ä¸å®‰å…¨\n            // è§£æ±ºæ–¹æ¡ˆï¼šä½¿ç”¨é¡å‹å®ˆè¡›å‡½æ•¸é©—è­‰ value æ˜¯å¦ç‚ºæœ‰æ•ˆçš„ ViewMode['type']\n            // ç¾ä»£åŒ–å»ºè­°ï¼šconst isValidViewMode = (val: string): val is ViewMode['type'] => VIEW_MODES.some(m => m.type === val)\n            // æ•ˆèƒ½å½±éŸ¿ï¼šç„¡ï¼Œä½†æå‡é¡å‹å®‰å…¨æ€§å’Œé‹è¡Œæ™‚å®‰å…¨æ€§\n            // ç›¸é—œå—å½±éŸ¿æª”æ¡ˆï¼šç„¡ï¼ˆå…§éƒ¨é‡æ§‹ï¼Œä¸å½±éŸ¿å¤–éƒ¨æ¥å£ï¼‰\n            onViewModeChange(value as ViewMode['type']);\n          }\n        }}\n        className=\"border rounded-lg p-1\""
  },
  {
    "priority": "P2",
    "type": "VAN",
    "description": "- ç¾ä»£åŒ–é¡å‹æ–·è¨€ï¼Œä½¿ç”¨æ›´å®‰å…¨çš„éµå€¼è¨ªå•",
    "details": [
      "å•é¡Œï¼šmode.icon as keyof typeof ICON_MAP ä½¿ç”¨é¡å‹æ–·è¨€ï¼Œå¯èƒ½å­˜åœ¨éµå€¼ä¸å­˜åœ¨çš„æƒ…æ³",
      "è§£æ±ºæ–¹æ¡ˆï¼šä½¿ç”¨ Object.hasOwn() æˆ– in é‹ç®—ç¬¦é©—è­‰éµå€¼å­˜åœ¨",
      "ç¾ä»£åŒ–å»ºè­°ï¼šconst IconComponent = Object.hasOwn(ICON_MAP, mode.icon) ? ICON_MAP[mode.icon] : DefaultIcon",
      "æ•ˆèƒ½å½±éŸ¿ï¼šç„¡ï¼Œä½†æå‡é¡å‹å®‰å…¨æ€§å’Œé‹è¡Œæ™‚å®‰å…¨æ€§",
      "ç›¸é—œå—å½±éŸ¿æª”æ¡ˆï¼šç„¡ï¼ˆå…§éƒ¨é‡æ§‹ï¼Œä¸å½±éŸ¿å¤–éƒ¨æ¥å£ï¼‰"
    ],
    "file": "src\\components\\features\\spaces\\components\\participants\\view-toggle.tsx",
    "line": 65,
    "context": "        className=\"border rounded-lg p-1\"\n      >\n        {VIEW_MODES.map((mode) => {\n          // TODO: [P2] VAN - ç¾ä»£åŒ–é¡å‹æ–·è¨€ï¼Œä½¿ç”¨æ›´å®‰å…¨çš„éµå€¼è¨ªå•\n          // å•é¡Œï¼šmode.icon as keyof typeof ICON_MAP ä½¿ç”¨é¡å‹æ–·è¨€ï¼Œå¯èƒ½å­˜åœ¨éµå€¼ä¸å­˜åœ¨çš„æƒ…æ³\n          // è§£æ±ºæ–¹æ¡ˆï¼šä½¿ç”¨ Object.hasOwn() æˆ– in é‹ç®—ç¬¦é©—è­‰éµå€¼å­˜åœ¨\n          // ç¾ä»£åŒ–å»ºè­°ï¼šconst IconComponent = Object.hasOwn(ICON_MAP, mode.icon) ? ICON_MAP[mode.icon] : DefaultIcon\n          // æ•ˆèƒ½å½±éŸ¿ï¼šç„¡ï¼Œä½†æå‡é¡å‹å®‰å…¨æ€§å’Œé‹è¡Œæ™‚å®‰å…¨æ€§\n          // ç›¸é—œå—å½±éŸ¿æª”æ¡ˆï¼šç„¡ï¼ˆå…§éƒ¨é‡æ§‹ï¼Œä¸å½±éŸ¿å¤–éƒ¨æ¥å£ï¼‰\n          const IconComponent = ICON_MAP[mode.icon as keyof typeof ICON_MAP];\n          \n          return (\n            <ToggleGroupItem"
  },
  {
    "priority": "P2",
    "type": "VAN",
    "description": "- ç¾ä»£åŒ– reduce é¡å‹æ¨æ–·",
    "details": [
      "å•é¡Œï¼šä½¿ç”¨ as Record<string, ChecklistItem[]> é¡å‹æ–·è¨€",
      "è§£æ±ºæ–¹æ¡ˆï¼šä½¿ç”¨æ›´ç²¾ç¢ºçš„é¡å‹å®šç¾©æˆ–é¡å‹å®ˆè¡›",
      "ç¾ä»£åŒ–å»ºè­°ï¼šè€ƒæ…®ä½¿ç”¨ Map æˆ–æ›´ç²¾ç¢ºçš„é¡å‹å®šç¾©",
      "æ•ˆèƒ½å½±éŸ¿ï¼šç„¡ï¼Œä½†æå‡é¡å‹å®‰å…¨æ€§",
      "ç›¸é—œå—å½±éŸ¿æª”æ¡ˆï¼šç„¡ï¼ˆå…§éƒ¨é‡æ§‹ï¼‰"
    ],
    "file": "src\\components\\features\\spaces\\components\\quality\\checklist.tsx",
    "line": 137,
    "context": "    }\n    acc[item.category].push(item);\n    return acc;\n  }, {} as Record<string, ChecklistItem[]>); // TODO: [P2] VAN - ç¾ä»£åŒ– reduce é¡å‹æ¨æ–·\n  // å•é¡Œï¼šä½¿ç”¨ as Record<string, ChecklistItem[]> é¡å‹æ–·è¨€\n  // è§£æ±ºæ–¹æ¡ˆï¼šä½¿ç”¨æ›´ç²¾ç¢ºçš„é¡å‹å®šç¾©æˆ–é¡å‹å®ˆè¡›\n  // ç¾ä»£åŒ–å»ºè­°ï¼šè€ƒæ…®ä½¿ç”¨ Map æˆ–æ›´ç²¾ç¢ºçš„é¡å‹å®šç¾©\n  // æ•ˆèƒ½å½±éŸ¿ï¼šç„¡ï¼Œä½†æå‡é¡å‹å®‰å…¨æ€§\n  // ç›¸é—œå—å½±éŸ¿æª”æ¡ˆï¼šç„¡ï¼ˆå…§éƒ¨é‡æ§‹ï¼‰\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Progress Overview */}"
  },
  {
    "priority": "P2",
    "type": "FEAT",
    "description": "src/components/features/spaces/components/quality/create-checklist-template.tsx - å¯¦ç¾å‰µå»ºæ¨¡æ¿ API èª¿ç”¨",
    "details": [],
    "file": "src\\components\\features\\spaces\\components\\quality\\create-checklist-template.tsx",
    "line": 88,
    "context": "  const onSubmit = async (data: ChecklistTemplateFormValues) => {\r\n    setIsLoading(true);\r\n    try {\r\n      // TODO: [P2] FEAT src/components/features/spaces/components/quality/create-checklist-template.tsx - å¯¦ç¾å‰µå»ºæ¨¡æ¿ API èª¿ç”¨\r\n      console.log('Creating checklist template:', { spaceId, ...data });\r\n      // @assignee dev\r\n      await new Promise(resolve => setTimeout(resolve, 1000)); // Simulate API call\r\n      \r\n      const newTemplate = {\r\n        id: Date.now().toString(),\r\n        ...data,\r\n        createdAt: new Date(),\r\n        createdBy: 'current-user',\r"
  },
  {
    "priority": "P2",
    "type": "FEAT",
    "description": "src/components/features/spaces/components/report/create-report-dialog.tsx - å¯¦ç¾å‰µå»ºå ±å‘Š API èª¿ç”¨",
    "details": [],
    "file": "src\\components\\features\\spaces\\components\\report\\create-report-dialog.tsx",
    "line": 90,
    "context": "  const onSubmit = async (data: CreateReportFormValues) => {\r\n    setIsLoading(true);\r\n    try {\r\n      // TODO: [P2] FEAT src/components/features/spaces/components/report/create-report-dialog.tsx - å¯¦ç¾å‰µå»ºå ±å‘Š API èª¿ç”¨\r\n      console.log('Creating report:', { spaceId, ...data });\r\n      // @assignee dev\r\n      await new Promise(resolve => setTimeout(resolve, 2000)); // Simulate API call\r\n      \r\n      const newReport = {\r\n        id: Date.now().toString(),\r\n        ...data,\r\n        status: 'generating' as const,\r\n        createdAt: new Date(),\r"
  },
  {
    "priority": "P2",
    "type": "FEAT",
    "description": "src/components/features/spaces/components/report/report-dashboard.tsx - å¯¦ç¾å¯¦éš›ä¸‹è¼‰é‚è¼¯",
    "details": [],
    "file": "src\\components\\features\\spaces\\components\\report\\report-dashboard.tsx",
    "line": 124,
    "context": "\r\n  const handleDownload = (report: Report) => {\r\n    if (report.downloadUrl) {\r\n      // TODO: [P2] FEAT src/components/features/spaces/components/report/report-dashboard.tsx - å¯¦ç¾å¯¦éš›ä¸‹è¼‰é‚è¼¯\r\n      console.log('Downloading report:', report.title);\r\n      // @assignee dev\r\n      window.open(report.downloadUrl, '_blank');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r"
  },
  {
    "priority": "P2",
    "type": "FEAT",
    "description": "src/components/features/spaces/components/report/report-viewer.tsx - å¯¦ç¾å¯¦éš›ä¸‹è¼‰é‚è¼¯",
    "details": [],
    "file": "src\\components\\features\\spaces\\components\\report\\report-viewer.tsx",
    "line": 77,
    "context": "\n  const handleDownload = () => {\n    if (report.downloadUrl) {\n      // TODO: [P2] FEAT src/components/features/spaces/components/report/report-viewer.tsx - å¯¦ç¾å¯¦éš›ä¸‹è¼‰é‚è¼¯\n      console.log('Downloading report:', report.title);\n      // @assignee dev\n      window.open(report.downloadUrl, '_blank');\n    }\n  };\n\n  // Mock report content based on type\n  const getReportContent = () => {\n    switch (report.type) {"
  },
  {
    "priority": "P2",
    "type": "REFACTOR",
    "description": "src/components/features/spaces/hooks/use-file-actions.ts - å¥§å¡å§†å‰ƒåˆ€ç²¾ç°¡æª”æ¡ˆå‹•ä½œ Hook",
    "details": [
      "å»ºè­°ï¼š",
      "1) å°‡ fileOperations ç›¸é—œä¾è³´é›†ä¸­æ–¼å–®ä¸€ factory/contextï¼Œç§»é™¤å¤šè™• useCallback ä¾è³´é …å°è‡´çš„ hooks è­¦å‘Šã€‚",
      "2) åƒ…å›å‚³å¯¦éš›ç”¨åˆ°çš„æœ€å° APIï¼ˆå¦‚ download/preview/deleteï¼‰ï¼Œé¿å…æš´éœ²æ•´åŒ…æ“ä½œä»¥é™ä½é‡æ¸²æŸ“ã€‚",
      "3) é‡å°é‡è¤‡é‚è¼¯ï¼ˆæ¬Šé™/éŒ¯èª¤è™•ç†/Toastï¼‰æŠ½ç‚º utilï¼Œé¿å…æ¯å€‹ action å…§é‡è¤‡ã€‚"
    ],
    "file": "src\\components\\features\\spaces\\hooks\\use-file-actions.ts",
    "line": 8,
    "context": " * and errors. This simplifies file management logic in the UI components.\n */\n'use client';\n// TODO: [P2] REFACTOR src/components/features/spaces/hooks/use-file-actions.ts - å¥§å¡å§†å‰ƒåˆ€ç²¾ç°¡æª”æ¡ˆå‹•ä½œ Hook\n// å»ºè­°ï¼š\n// 1) å°‡ fileOperations ç›¸é—œä¾è³´é›†ä¸­æ–¼å–®ä¸€ factory/contextï¼Œç§»é™¤å¤šè™• useCallback ä¾è³´é …å°è‡´çš„ hooks è­¦å‘Šã€‚\n// 2) åƒ…å›å‚³å¯¦éš›ç”¨åˆ°çš„æœ€å° APIï¼ˆå¦‚ download/preview/deleteï¼‰ï¼Œé¿å…æš´éœ²æ•´åŒ…æ“ä½œä»¥é™ä½é‡æ¸²æŸ“ã€‚\n// 3) é‡å°é‡è¤‡é‚è¼¯ï¼ˆæ¬Šé™/éŒ¯èª¤è™•ç†/Toastï¼‰æŠ½ç‚º utilï¼Œé¿å…æ¯å€‹ action å…§é‡è¤‡ã€‚\n\nimport { useState, useCallback } from 'react';\nimport { useToast } from '@/hooks/use-toast';\nimport { useFileOperations, type FileItem as FileActionItem } from './use-file-operations';\n"
  },
  {
    "priority": "P2",
    "type": "REFACTOR",
    "description": "src/components/ui/chart.tsx - å¥§å¡å§†å‰ƒåˆ€ç²¾ç°¡åœ–è¡¨å±¤",
    "details": [
      "å»ºè­°ï¼š",
      "1) ä»¥ props é©…å‹•ã€å–®ä¸€è²¬ä»»ï¼šåªæ¸²æŸ“å¿…è¦è¦–åœ–ï¼Œä¸å…§åµŒè³‡æ–™è½‰æ›/ä¾†æºé¸æ“‡ã€‚",
      "2) å°‡é‡è¤‡çš„ formatter/mapper æå‡ç‚º utilï¼Œé¿å…åœ¨å¤šåœ–è¡¨å…§é‡è¤‡å¯¦ä½œã€‚",
      "3) ç¦æ­¢æ–¼æ¸²æŸ“æœŸé–“è§¸ç™¼å‰¯ä½œç”¨æˆ–è³‡æ–™æ‹‰å–ï¼Œå°‡å‰¯ä½œç”¨é·è‡³ä¸Šå±¤ hookã€‚"
    ],
    "file": "src\\components\\ui\\chart.tsx",
    "line": 1,
    "context": "// TODO: [P2] REFACTOR src/components/ui/chart.tsx - å¥§å¡å§†å‰ƒåˆ€ç²¾ç°¡åœ–è¡¨å±¤\r\n// å»ºè­°ï¼š\r\n// 1) ä»¥ props é©…å‹•ã€å–®ä¸€è²¬ä»»ï¼šåªæ¸²æŸ“å¿…è¦è¦–åœ–ï¼Œä¸å…§åµŒè³‡æ–™è½‰æ›/ä¾†æºé¸æ“‡ã€‚\r\n// 2) å°‡é‡è¤‡çš„ formatter/mapper æå‡ç‚º utilï¼Œé¿å…åœ¨å¤šåœ–è¡¨å…§é‡è¤‡å¯¦ä½œã€‚\r\n// 3) ç¦æ­¢æ–¼æ¸²æŸ“æœŸé–“è§¸ç™¼å‰¯ä½œç”¨æˆ–è³‡æ–™æ‹‰å–ï¼Œå°‡å‰¯ä½œç”¨é·è‡³ä¸Šå±¤ hookã€‚\r\n\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as RechartsPrimitive from \"recharts\"\r\n\r"
  },
  {
    "priority": "P2",
    "type": "REFACTOR",
    "description": "src/firebase/firestore/use-collection.tsx - æ§åˆ¶å¿«å–èˆ‡ä¾è³´ç©©å®šï¼Œé™ä½é‡æ–°è¨‚é–±",
    "details": [
      "å»ºè­°ï¼š",
      "- å‘¼å«ç«¯é ˆ useMemo ç©©å®š Query/Refï¼Œhook å…§å¯æª¢æŸ¥ç›¸ç­‰æ€§é¿å…éåº¦ unsubscribe/subscribeã€‚",
      "- æä¾›é¸é …ï¼š{ listen?: boolean; cache?: 'no-store'|'memory' }ï¼Œèˆ‡ App Router å¿«å–ç­–ç•¥å°é½Šã€‚",
      "- åƒ…å›å‚³å¿…è¦æ¬„ä½ï¼ŒéŒ¯èª¤çµ±ä¸€ç”± errorEmitter å‚³éã€‚"
    ],
    "file": "src\\firebase\\firestore\\use-collection.tsx",
    "line": 37,
    "context": " * The Firestore CollectionReference or Query. Waits if null/undefined.\n * @returns {UseCollectionResult<T>} Object with data, isLoading, error.\n */\n// TODO: [P2] REFACTOR src/firebase/firestore/use-collection.tsx - æ§åˆ¶å¿«å–èˆ‡ä¾è³´ç©©å®šï¼Œé™ä½é‡æ–°è¨‚é–±\n// å»ºè­°ï¼š\n// - å‘¼å«ç«¯é ˆ useMemo ç©©å®š Query/Refï¼Œhook å…§å¯æª¢æŸ¥ç›¸ç­‰æ€§é¿å…éåº¦ unsubscribe/subscribeã€‚\n// - æä¾›é¸é …ï¼š{ listen?: boolean; cache?: 'no-store'|'memory' }ï¼Œèˆ‡ App Router å¿«å–ç­–ç•¥å°é½Šã€‚\n// - åƒ…å›å‚³å¿…è¦æ¬„ä½ï¼ŒéŒ¯èª¤çµ±ä¸€ç”± errorEmitter å‚³éã€‚\nexport function useCollection<T = DocumentData>(\n    targetRefOrQuery: CollectionReference<DocumentData> | Query<DocumentData> | null | undefined,\n): UseCollectionResult<T> {\n  type ResultItemType = WithId<T>;\n  type StateDataType = ResultItemType[] | null;"
  },
  {
    "priority": "P2",
    "type": "REFACTOR",
    "description": "src/hooks/use-permissions.ts - å¥§å¡å§†å‰ƒåˆ€ç²¾ç°¡æ¬Šé™ Hook",
    "details": [
      "å»ºè­°ï¼š",
      "1) å°‡ checkOrganizationPermissionInternal æš´éœ²ç‚ºå–®ä¸€ memoized selectorï¼Œé¿å…å¤šè™• useCallback ä¾è³´åˆ†æ•£ã€‚",
      "2) åƒ…å›å‚³å‘¼å«ç«¯å¯¦éš›éœ€è¦çš„æœ€å°è³‡æ–™ï¼ˆå¸ƒæ—/å­—ä¸²ï¼‰ï¼Œé™ä½é‡æ¸²æŸ“èˆ‡å¿ƒæ™ºè² æ“”ã€‚",
      "3) ä»¥ç©©å®šä¾è³´é™£åˆ—èˆ‡è¡ç”Ÿå€¼ memo åŒ–ï¼Œç§»é™¤å¤šé¤˜ä¾è³´å°è‡´çš„ hooks è­¦å‘Šã€‚"
    ],
    "file": "src\\hooks\\use-permissions.ts",
    "line": 2,
    "context": "'use client';\n// TODO: [P2] REFACTOR src/hooks/use-permissions.ts - å¥§å¡å§†å‰ƒåˆ€ç²¾ç°¡æ¬Šé™ Hook\n// å»ºè­°ï¼š\n// 1) å°‡ checkOrganizationPermissionInternal æš´éœ²ç‚ºå–®ä¸€ memoized selectorï¼Œé¿å…å¤šè™• useCallback ä¾è³´åˆ†æ•£ã€‚\n// 2) åƒ…å›å‚³å‘¼å«ç«¯å¯¦éš›éœ€è¦çš„æœ€å°è³‡æ–™ï¼ˆå¸ƒæ—/å­—ä¸²ï¼‰ï¼Œé™ä½é‡æ¸²æŸ“èˆ‡å¿ƒæ™ºè² æ“”ã€‚\n// 3) ä»¥ç©©å®šä¾è³´é™£åˆ—èˆ‡è¡ç”Ÿå€¼ memo åŒ–ï¼Œç§»é™¤å¤šé¤˜ä¾è³´å°è‡´çš„ hooks è­¦å‘Šã€‚\n\nimport { useState, useCallback, useMemo } from 'react';\nimport { Permission, PermissionCheckResult, UserRoleAssignment } from '@/lib/types-unified';\nimport { useAuth } from '@/components/auth/auth-provider';\nimport { roleManagementService } from '@/lib/role-management';"
  },
  {
    "priority": "P2",
    "type": "REFACTOR",
    "description": "src/lib/role-management.ts - åˆä½µæŸ¥è©¢èˆ‡å¿«å–ï¼Œåƒ…å›å‚³æœ€å°è³‡æ–™",
    "details": [
      "æŒ‡å—ï¼š",
      "- æä¾› in-memory å¿«å–ï¼ˆå¼±æ˜ å°„ï¼‰ä»¥æ¸›å°‘ getRoleDefinition é‡è¤‡æŸ¥è©¢ï¼›",
      "- checkPermission èˆ‡ getAllRoleDefinitions å…±äº«å¿«å–ï¼›",
      "- åƒ…æš´éœ² id/name/permissionsï¼›å°‡éå¿…è¦æ¬„ä½å»¶å¾ŒæŸ¥è©¢ã€‚"
    ],
    "file": "src\\lib\\role-management.ts",
    "line": 112,
    "assignee": "ai",
    "context": "  },\n};\n\n// TODO: [P2] REFACTOR src/lib/role-management.ts - åˆä½µæŸ¥è©¢èˆ‡å¿«å–ï¼Œåƒ…å›å‚³æœ€å°è³‡æ–™\n// æŒ‡å—ï¼š\n// - æä¾› in-memory å¿«å–ï¼ˆå¼±æ˜ å°„ï¼‰ä»¥æ¸›å°‘ getRoleDefinition é‡è¤‡æŸ¥è©¢ï¼›\n// - checkPermission èˆ‡ getAllRoleDefinitions å…±äº«å¿«å–ï¼›\n// - åƒ…æš´éœ² id/name/permissionsï¼›å°‡éå¿…è¦æ¬„ä½å»¶å¾ŒæŸ¥è©¢ã€‚\n// @assignee ai\nexport const roleManagementService = {\n  // åˆå§‹åŒ– Firestore\n  db: getFirestore(initializeFirebase().firebaseApp),\n  // TODO: [P2] REFACTOR src/lib/role-management.ts - å¥§å¡å§†å‰ƒåˆ€ç²¾ç°¡æœå‹™å±¤"
  },
  {
    "priority": "P2",
    "type": "REFACTOR",
    "description": "src/lib/role-management.ts - å¥§å¡å§†å‰ƒåˆ€ç²¾ç°¡æœå‹™å±¤",
    "details": [
      "å»ºè­°ï¼š",
      "1) ä»¥ pure function + æœ€å°è¼¸å‡ºç‚ºä¸»ï¼Œé¿å…åœ¨ service å±¤ç¶­æŒéš±è—ç‹€æ…‹ã€‚",
      "2) å°‡ getAllRoleDefinitions èˆ‡ checkPermission çš„é‡è¤‡æŸ¥è©¢åˆä½µ/å¿«å–ï¼›é¿å…é‡è¤‡ Firestore round-tripã€‚",
      "3) åƒ…å›å‚³æ¸²æŸ“æ‰€éœ€æ¬„ä½ï¼ˆid/name/permissionsï¼‰ï¼Œå…¶é¤˜ç´°ç¯€å»¶å¾ŒæŸ¥è©¢ã€‚"
    ],
    "file": "src\\lib\\role-management.ts",
    "line": 121,
    "context": "export const roleManagementService = {\n  // åˆå§‹åŒ– Firestore\n  db: getFirestore(initializeFirebase().firebaseApp),\n  // TODO: [P2] REFACTOR src/lib/role-management.ts - å¥§å¡å§†å‰ƒåˆ€ç²¾ç°¡æœå‹™å±¤\n  // å»ºè­°ï¼š\n  // 1) ä»¥ pure function + æœ€å°è¼¸å‡ºç‚ºä¸»ï¼Œé¿å…åœ¨ service å±¤ç¶­æŒéš±è—ç‹€æ…‹ã€‚\n  // 2) å°‡ getAllRoleDefinitions èˆ‡ checkPermission çš„é‡è¤‡æŸ¥è©¢åˆä½µ/å¿«å–ï¼›é¿å…é‡è¤‡ Firestore round-tripã€‚\n  // 3) åƒ…å›å‚³æ¸²æŸ“æ‰€éœ€æ¬„ä½ï¼ˆid/name/permissionsï¼‰ï¼Œå…¶é¤˜ç´°ç¯€å»¶å¾ŒæŸ¥è©¢ã€‚\n\n  // ç²å–è§’è‰²å®šç¾©\n  getRoleDefinition: async (roleId: string): Promise<RoleDefinition | null> => {\n    try {\n      // é¦–å…ˆæª¢æŸ¥ç³»çµ±è§’è‰²"
  }
]
```

## ğŸ’¡ å»ºè­°çš„ AI å‘½ä»¤

ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è®“ AI è™•ç†ç‰¹å®š TODOï¼š

```
# è™•ç†ç¬¬ä¸€å€‹ç·Šæ€¥é …ç›®
è«‹æ ¹æ“š src\components\features\spaces\components\file-explorer\file-explorer.tsx ç¬¬ 9 è¡Œçš„ TODOï¼Œå®Œæˆä¿®å¾©

# è™•ç†æ‰€æœ‰ P0 å®‰å…¨æ€§å•é¡Œ
è«‹è™•ç†æ‰€æœ‰æ¨™è¨˜ç‚º P0-SECURITY çš„ TODO

# ç”Ÿæˆæ¸¬è©¦æª”æ¡ˆ
è«‹ç‚ºæ‰€æœ‰æ¨™è¨˜ç‚º TEST çš„ TODO ç”Ÿæˆå°æ‡‰çš„æ¸¬è©¦æª”æ¡ˆ
```