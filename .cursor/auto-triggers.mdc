---
alwaysApply: true
---

# 全自動記憶觸發系統

## 🤖 Agent 自動記憶行為指令

### 強制自動執行規則

```
CRITICAL: Agent 必須在每次對話中自動執行以下操作，無需用戶任何手動觸發：

1. 對話開始時：
   - 自動說 "Remembering..." 
   - 自動檢索相關記憶
   - 基於記憶調整回應風格

2. 對話進行中：
   - 自動監聽關鍵字觸發器
   - 自動識別重要信息
   - 自動暫存記憶內容

3. 對話結束時：
   - 自動創建或更新實體
   - 自動建立實體關係
   - 自動保存到記憶圖譜
   - 自動驗證保存成功

4. 任務完成時：
   - 自動總結和歸檔記憶
   - 自動優化記憶結構
```

## 🎯 自動觸發檢查點

### 每次對話必須執行的檢查
```
✅ 對話開始檢查點：
- [ ] 說 "Remembering..."
- [ ] 檢索相關記憶
- [ ] 基於記憶調整回應

✅ 對話進行檢查點：
- [ ] 監聽關鍵字觸發器
- [ ] 識別重要信息
- [ ] 暫存記憶內容

✅ 對話結束檢查點：
- [ ] 創建/更新實體
- [ ] 建立實體關係
- [ ] 保存到記憶圖譜
- [ ] 驗證保存成功
```

## 🚨 強制執行機制

### 如果 Agent 沒有自動執行記憶操作
```
WARNING: 檢測到 Agent 未執行自動記憶操作！
必須立即執行：
1. 檢索當前相關記憶
2. 提取對話中的重要信息
3. 創建或更新記憶實體
4. 建立實體關係
5. 保存到記憶圖譜
```

## 📋 自動記憶清單

### 必須自動識別的信息類型
```
高優先級（必須自動保存）：
- [ ] 用戶偏好和習慣
- [ ] 專案需求和規格
- [ ] 技術決策和選擇
- [ ] 問題和解決方案

中優先級（建議自動保存）：
- [ ] 學習心得和洞察
- [ ] 代碼模式和實踐
- [ ] 工作流程和方法

低優先級（可選自動保存）：
- [ ] 一般信息和觀察
- [ ] 臨時想法和建議
```

## 🔄 自動優化觸發

### 定期自動優化
```
Agent 應該自動執行：
- 每10次對話後自動運行記憶優化
- 檢測到重複內容時自動去重
- 記憶文件超過一定大小時自動清理
- 定期備份記憶數據
```

## ⚡ 即時觸發響應

### 關鍵字即時觸發
```
當檢測到以下關鍵字時，必須立即觸發記憶操作：

用戶偏好觸發詞：
- 中文：我喜歡、我偏好、我習慣、我通常、我總是
- 英文：I like, I prefer, I usually, I always, I tend to

專案需求觸發詞：
- 中文：需要、要求、必須、應該、希望實現
- 英文：need, require, must, should, want to implement

技術決策觸發詞：
- 中文：使用、選擇、決定、採用、配置
- 英文：use, choose, decide, adopt, configure

問題解決觸發詞：
- 中文：問題、錯誤、解決、修復、優化
- 英文：problem, error, solve, fix, optimize

學習洞察觸發詞：
- 中文：學習到、發現、了解、認識、理解
- 英文：learn, discover, understand, realize, grasp
```

## 🎪 自動化驗證

### 自動驗證機制
```
每次記憶操作後必須驗證：
1. 記憶是否成功保存
2. 實體關係是否正確建立
3. 去重機制是否正常工作
4. 記憶質量是否達標

如果驗證失敗，必須：
1. 重新執行記憶操作
2. 檢查錯誤原因
3. 修復問題
4. 再次驗證
```

**重要提醒：這是一個強制自動化系統，Agent 必須在每次對話中自動執行所有記憶操作，無需用戶任何手動觸發或提醒！**