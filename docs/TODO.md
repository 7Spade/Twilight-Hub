# TODO 管理系統

> **版本**: 1.0  
> **更新**: 2024-12-19  
> **目標**: AI Agent 友好的標準化 TODO 管理

---

## 📋 TODO 標籤標準

### 優先級標籤
- `[P0]` - 緊急 (Critical) - 立即處理
- `[P1]` - 高 (High) - 24小時內
- `[P2]` - 中 (Medium) - 本週內
- `[P3]` - 低 (Low) - 下週內

### 狀態標籤
- `[TODO]` - 待開始
- `[IN_PROGRESS]` - 進行中
- `[BLOCKED]` - 被阻塞
- `[DONE]` - 已完成
- `[CANCELLED]` - 已取消

### 類型標籤
- `[BUG]` - 錯誤修復
- `[FEATURE]` - 新功能
- `[REFACTOR]` - 重構
- `[DOCS]` - 文檔
- `[TEST]` - 測試
- `[PERF]` - 性能優化
- `[SECURITY]` - 安全
- `[CLEANUP]` - 清理

### 模組標籤
- `[AUTH]` - 認證系統
- `[UI]` - 用戶界面
- `[API]` - API 接口
- `[DB]` - 資料庫
- `[CONFIG]` - 配置
- `[DEPLOY]` - 部署
- `[MEMORY_BANK]` - Memory Bank

---

## 🎯 當前活躍 TODO

### VAN 模式 - Memory Bank 同步
- `[P1]` `[MEMORY_BANK]` `[CLEANUP]` `[DONE]` 清理 Memory Bank 無用內容
- `[P1]` `[MEMORY_BANK]` `[REFACTOR]` `[DONE]` 優化 Memory Bank 結構降低認知負擔
- `[P1]` `[MEMORY_BANK]` `[DOCS]` `[DONE]` 建立標準化 TODO.md 文件
- `[P1]` `[MEMORY_BANK]` `[CLEANUP]` `[DONE]` 更新 Memory Bank 與專案同步

### 專案結構優化
- `[P2]` `[REFACTOR]` `[TODO]` 實施 Next.js 15 標準文件命名規範
- `[P2]` `[CLEANUP]` `[TODO]` 清理重複文件 (FirebaseErrorListener.tsx)
- `[P2]` `[REFACTOR]` `[TODO]` 重組目錄結構建立清晰邊界
- `[P2]` `[CLEANUP]` `[TODO]` 統一類型系統 (types.ts vs types-unified.ts)

---

## 📊 TODO 統計

### 按優先級
- `[P0]`: 0 個
- `[P1]`: 4 個 (4 完成, 0 進行中, 0 待開始)
- `[P2]`: 4 個 (全部待開始)
- `[P3]`: 0 個

### 按狀態
- `[TODO]`: 4 個
- `[IN_PROGRESS]`: 0 個
- `[DONE]`: 4 個
- `[BLOCKED]`: 0 個
- `[CANCELLED]`: 0 個

### 按類型
- `[CLEANUP]`: 3 個
- `[REFACTOR]`: 2 個
- `[DOCS]`: 1 個

---

## 🔄 TODO 更新規則

### 添加新 TODO
```markdown
- `[優先級]` `[模組]` `[類型]` `[狀態]` 描述內容
```

- 對於 `[BUG]`、`[REFACTOR]` 類型，必須在條目後附上「問題導向模板（RCA）」以利零認知處理。

### 更新 TODO 狀態
1. 將 `[TODO]` 改為 `[IN_PROGRESS]` 開始工作
2. 將 `[IN_PROGRESS]` 改為 `[DONE]` 完成工作
3. 將 `[IN_PROGRESS]` 改為 `[BLOCKED]` 遇到阻塞
4. 將任何狀態改為 `[CANCELLED]` 取消任務

### 優先級調整
- 根據業務影響和緊急程度調整
- 定期審查和重新排序
- 避免過多 P0 和 P1 任務

---

## 📝 TODO 模板

### 功能開發 TODO
```markdown
- `[P2]` `[FEATURE]` `[AUTH]` `[TODO]` 實現用戶登入功能
  - 子任務: 表單驗證、Firebase 整合、錯誤處理
  - 預估時間: 4 小時
  - 依賴: Firebase 配置完成
```

### 錯誤修復 TODO
```markdown
- `[P1]` `[BUG]` `[UI]` `[TODO]` 修復登入頁面樣式問題
  - 問題描述: 按鈕在移動端顯示異常
  - 預估時間: 1 小時
  - 測試: 多設備響應式測試
```

### 重構 TODO
```markdown
- `[P2]` `[REFACTOR]` `[API]` `[TODO]` 重構 API 錯誤處理
  - 目標: 統一錯誤響應格式
  - 預估時間: 2 小時
  - 影響範圍: 所有 API 端點
```

### 問題導向模板（RCA/5W1H 極簡版）
> 適用：`[BUG]`、`[REFACTOR]`、任何需要追根究柢與可預防性的任務。

```markdown
- 問題（What）: 用一句話描述發生了什麼問題？
- 範圍/影響（Who/Where）: 受影響的用戶/模組/路徑？
- 何時（When）: 何時首次出現/再次出現？是否可重現？
- 為什麼（Why/Root Cause）: 最小可驗證的根因陳述（單行）。
- 解法（How Fix）: 最小解法（單行），如需多步以清單列出。
- 驗證（How Verify）: 驗證步驟（最多 3 步）；指標/日誌位置。
- 預防（How Prevent）: 守護欄（Lint/Type/Test/監控/流程規範）。
- 風險/回滾: 主要風險與回滾條件與步驟（單行）。
```

示例（附於 TODO 條目下方）：
```markdown
- `[P1]` `[BUG]` `[AUTH]` `[IN_PROGRESS]` 登入表單提交間歇性 500
  - 問題: 提交頻繁時偶發 500
  - 範圍/影響: `features/auth` 登入流程，行動端影響較大
  - 何時: 2024-12-19 起，可 80% 重現於弱網
  - 為什麼: 客戶端重複提交，後端缺少冪等與速率限制
  - 解法: 前端防抖+按鈕 loading 鎖定；API 增加 429 與冪等鍵
  - 驗證: (1) 連點 5 次無 500 (2) 日誌無重複處理 (3) 429 呈現正確
  - 預防: 表單共用 `useSubmitGuard`、API 網關速率限制、監控 5xx 指標
  - 風險/回滾: 風險低；若轉化率下降>3%，回滾前端鎖定
```

### AI Agent 最小認知填寫規範（Zero-Cog）
- **單一來源**: 每個 TODO 條目自包含所有決策所需最小資訊，不跳轉多文件。
- **結構固定**: 標籤行 +（必要時）RCA 區塊，關鍵字段固定順序、單行敘述。
- **可執行性**: 解法與驗證可直接行動；避免模糊詞（如「優化」、「調整」）。
- **可預防性**: 每個問題必給一條守護欄（Lint/型別/測試/監控/流程）。
- **最少欄位**: 沒有問題就不填 RCA；有問題最少填「問題/為什麼/解法/預防/驗證」。

---

## 🎯 最佳實踐

### 1. 任務粒度
- 單個 TODO 不超過 4 小時工作量
- 複雜任務拆分成子任務
- 明確的完成標準

### 2. 描述清晰
- 使用動詞開頭 (實現、修復、優化)
- 包含具體的技術細節
- 標明預估時間和依賴

### 3. 定期審查
- 每日檢查 P0 和 P1 任務
- 每週審查所有任務優先級
- 及時更新狀態和進度

### 4. 依賴管理
- 明確標示任務依賴關係
- 優先處理阻塞其他任務的項目
- 考慮並行執行的可能性

---

## 🔍 搜尋和過濾

### 快速搜尋
- `[P1]` - 查看高優先級任務
- `[IN_PROGRESS]` - 查看進行中任務
- `[BUG]` - 查看所有錯誤修復
- `[AUTH]` - 查看認證相關任務

### 組合搜尋
- `[P1]` `[BUG]` - 高優先級錯誤
- `[TODO]` `[FEATURE]` - 待開始功能
- `[BLOCKED]` `[API]` - 被阻塞的 API 任務

---

## 📈 進度追蹤

### 每日檢查
- [ ] 檢查 P0 任務狀態
- [ ] 更新進行中任務進度
- [ ] 識別新的阻塞問題
- [ ] 調整任務優先級

### 每週回顧
- [ ] 統計完成任務數量
- [ ] 分析任務完成時間
- [ ] 識別重複出現的問題
- [ ] 優化工作流程

---

**最後更新**: 2024-12-19  
**下次審查**: 2024-12-20
