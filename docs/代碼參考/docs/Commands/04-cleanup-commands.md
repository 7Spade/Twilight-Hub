# 清理指令 (Cleanup Commands)

> **版本**: 1.0 | **更新**: 2025-01-03  
> **目標**: 定義代碼清理、文件清理和項目整理的指令格式

---

## 🧹 清理指令分類

### 代碼清理
- `清理未使用的導入` - 移除未使用的 import
- `清理未使用的變數` - 移除未使用的變數
- `清理未使用的參數` - 移除未使用的參數
- `清理重複的代碼` - 移除重複代碼

**範例:**
```
清理 auth-provider.tsx 未使用的導入
清理 file-upload.tsx 未使用的變數
清理 contract-list.tsx 未使用的參數
清理 role-manager.tsx 重複的代碼
```

### 文件清理
- `清理 [文件] 的格式` - 格式化文件
- `清理 [目錄] 的結構` - 整理目錄結構
- `清理 [模組] 的依賴` - 清理模組依賴
- `清理 [功能] 的冗餘` - 清理功能冗餘

**範例:**
```
清理 auth 目錄的文件格式
清理 components 目錄的結構
清理 spaces 模組的依賴
清理文件上傳功能的冗餘
```

---

## 🎯 專案特定清理指令

### Next.js 15 清理
- `清理 App Router 配置` - 清理 App Router 配置
- `清理 Server Actions 冗餘` - 清理 Server Actions
- `清理 Client Components 未使用` - 清理未使用的 Client Components
- `清理環境變數配置` - 清理環境變數

**範例:**
```
清理 App Router 頁面配置
清理文件上傳 Server Actions 冗餘
清理未使用的 Client Components
清理 Firebase 環境變數配置
```

### Firebase 清理
- `清理 Firestore 查詢冗餘` - 清理 Firestore 查詢
- `清理 Firebase 認證邏輯` - 清理認證邏輯
- `清理 Storage 操作冗餘` - 清理 Storage 操作
- `清理 Security Rules 冗餘` - 清理安全規則

**範例:**
```
清理用戶數據 Firestore 查詢冗餘
清理 Firebase 認證登入邏輯
清理文件上傳 Storage 操作冗餘
清理 Firestore Security Rules 冗餘
```

### TypeScript 清理
- `清理 any 類型使用` - 清理 any 類型
- `清理未使用的類型定義` - 清理未使用的類型
- `清理類型導入冗餘` - 清理類型導入
- `清理類型斷言冗餘` - 清理類型斷言

**範例:**
```
清理 auth-provider.tsx 中 any 類型使用
清理未使用的用戶類型定義
清理 API 類型導入冗餘
清理文件上傳類型斷言冗餘
```

---

## 🚀 批量清理指令

### 代碼質量清理
```
清理所有未使用的導入
清理所有未使用的變數
清理所有未使用的參數
清理所有重複的代碼
```

### 文件結構清理
```
清理所有文件的格式
清理所有目錄的結構
清理所有模組的依賴
清理所有功能的冗餘
```

### 性能優化清理
```
清理所有性能瓶頸
清理所有記憶體洩漏
清理所有不必要的重渲染
清理所有緩存冗餘
```

### 安全清理
```
清理所有硬編碼密鑰
清理所有未驗證輸入
清理所有權限檢查冗餘
清理所有安全漏洞
```

---

## 📊 清理檢查指令

### 清理前檢查
- `檢查 [文件] 的清理需求` - 檢查文件清理需求
- `分析 [模組] 的冗餘程度` - 分析模組冗餘
- `統計 [類型] 的清理數量` - 統計清理數量
- `評估 [功能] 的清理影響` - 評估清理影響

**範例:**
```
檢查 auth-provider.tsx 的清理需求
分析 spaces 模組的冗餘程度
統計未使用導入的清理數量
評估文件上傳功能的清理影響
```

### 清理後驗證
- `驗證 [文件] 的清理結果` - 驗證清理結果
- `檢查 [模組] 的功能完整性` - 檢查功能完整性
- `確認 [功能] 的性能提升` - 確認性能提升
- `測試 [組件] 的穩定性` - 測試組件穩定性

**範例:**
```
驗證 contract-list.tsx 的清理結果
檢查 auth 模組的功能完整性
確認文件上傳功能的性能提升
測試 file-upload 組件的穩定性
```

---

## 🔍 深度清理指令

### 架構清理
- `清理 [模組] 的架構冗餘` - 清理架構冗餘
- `重構 [功能] 的依賴關係` - 重構依賴關係
- `簡化 [組件] 的職責分離` - 簡化職責分離
- `優化 [服務] 的接口設計` - 優化接口設計

**範例:**
```
清理 auth 模組的架構冗餘
重構文件上傳功能的依賴關係
簡化 contract-list 組件的職責分離
優化用戶服務的接口設計
```

### 代碼風格清理
- `統一 [文件] 的代碼風格` - 統一代碼風格
- `規範 [模組] 的命名約定` - 規範命名約定
- `標準化 [功能] 的註釋格式` - 標準化註釋格式
- `優化 [組件] 的結構布局` - 優化結構布局

**範例:**
```
統一 auth-provider.tsx 的代碼風格
規範 spaces 模組的命名約定
標準化文件上傳功能的註釋格式
優化 contract-list 組件的結構布局
```

---

## 💡 清理指令最佳實踐

### 清理指令撰寫建議
1. **明確清理目標**: 指定要清理的具體內容
2. **包含清理範圍**: 定義清理的範圍和深度
3. **指定清理策略**: 說明清理的方法和步驟
4. **提供驗證方法**: 包含清理後的驗證方法

### 清理策略
1. **分步清理**: 將複雜清理任務分解為多個步驟
2. **安全清理**: 確保清理不會破壞現有功能
3. **增量清理**: 逐步清理，避免一次性大改動
4. **回滾準備**: 為清理操作準備回滾方案

### 避免的清理模式
```
❌ "清理代碼" - 太模糊
❌ "整理文件" - 沒有具體目標
❌ "優化項目" - 缺少清理策略

✅ "清理 auth-provider.tsx 中未使用的導入和變數"
✅ "整理 components 目錄結構並移除空文件"
✅ "優化文件上傳功能並清理冗餘代碼"
```

---

## 🎯 清理檢查清單

### 代碼清理檢查清單
- [ ] 移除未使用的導入
- [ ] 移除未使用的變數
- [ ] 移除未使用的參數
- [ ] 移除重複的代碼
- [ ] 統一代碼風格
- [ ] 規範命名約定
- [ ] 標準化註釋格式
- [ ] 優化結構布局

### 文件清理檢查清單
- [ ] 格式化所有文件
- [ ] 整理目錄結構
- [ ] 清理模組依賴
- [ ] 移除空文件
- [ ] 統一文件命名
- [ ] 優化文件組織
- [ ] 清理臨時文件
- [ ] 更新文件文檔

### 項目清理檢查清單
- [ ] 清理構建產物
- [ ] 清理緩存文件
- [ ] 清理日誌文件
- [ ] 清理測試產物
- [ ] 清理依賴冗餘
- [ ] 清理配置冗餘
- [ ] 清理文檔冗餘
- [ ] 清理版本控制冗餘
