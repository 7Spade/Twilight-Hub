# 核心指令格式

> **版本**: 1.0 | **更新**: 2025-01-03  
> **目標**: 定義 AI agent 的核心指令格式和基本操作

---

## 🎯 核心指令格式

### 1. 動作指令 (Action Commands)
```
格式: [動作] [目標] [條件] [優先級]

範例:
- "創建用戶認證組件"
- "修復登入頁面的 TypeScript 錯誤"
- "優化文件上傳的性能"
- "重構角色管理邏輯"
```

### 2. 查詢指令 (Query Commands)
```
格式: [查詢類型] [目標] [範圍]

範例:
- "檢查所有 TODO 項目"
- "分析認證相關的錯誤"
- "查看文件上傳組件的依賴"
- "統計未使用的導入"
```

### 3. 修復指令 (Fix Commands)
```
格式: [修復] [問題類型] [目標文件] [具體問題]

範例:
- "修復 JSX 語法錯誤在 contract-list.tsx"
- "清理未使用的導入在 auth-provider.tsx"
- "修復 TypeScript 類型錯誤在 use-permissions.ts"
- "修復 React Hooks 規則違反在 file-upload.tsx"
```

---

## 📋 指令解析流程

### 1. 指令解析
```
輸入: "修復 contract-list.tsx 的 JSX 語法錯誤"
解析: 
- 動作: 修復
- 目標: contract-list.tsx
- 問題: JSX 語法錯誤
- 類型: [BUG][UI]
```

### 2. 上下文收集
```
- 讀取目標文件
- 分析錯誤類型
- 檢查相關依賴
- 確認修復策略
```

### 3. 執行修復
```
- 應用修復邏輯
- 驗證修復結果
- 更新相關文件
- 記錄變更日誌
```

### 4. 結果驗證
```
- 檢查語法正確性
- 驗證功能完整性
- 確認無副作用
- 更新文檔狀態
```

---

## 💡 最佳實踐

### 指令撰寫建議
1. **明確具體**: 使用具體的文件名和功能名
2. **包含上下文**: 提供足夠的上下文信息
3. **指定優先級**: 使用優先級標記
4. **分步驟**: 複雜任務分解為多個步驟

### 避免的指令模式
```
❌ "修復錯誤" - 太模糊
❌ "優化代碼" - 沒有具體目標
❌ "創建組件" - 缺少功能描述

✅ "修復 contract-list.tsx 第319行的 JSX 語法錯誤"
✅ "優化 file-upload.tsx 的 React Hooks 使用"
✅ "創建用戶角色管理的對話框組件"
```

---

## 🎯 快速參考

### 常用動詞
- **創建**: 新建組件、頁面、功能
- **修復**: 修復錯誤、問題
- **優化**: 提升性能、效率
- **清理**: 移除冗餘、整理代碼
- **重構**: 改進結構、設計
- **檢查**: 分析狀態、驗證
- **更新**: 升級依賴、文檔

### 常用目標
- **組件**: React 組件
- **頁面**: Next.js 頁面
- **Hook**: 自定義 Hook
- **服務**: 業務邏輯服務
- **API**: 接口和數據
- **類型**: TypeScript 類型
- **測試**: 單元測試

### 常用條件
- **性能**: 執行效率
- **錯誤**: 語法或邏輯錯誤
- **依賴**: 模組依賴關係
- **格式**: 代碼格式
- **類型**: 類型安全
- **權限**: 訪問控制
